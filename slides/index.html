<!DOCTYPE html>
<html lang="en"><head>
<link href="../images/R-Med-logo-revised-pride.png" rel="icon" type="image/png">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.353">

  <meta name="author" content="Crystal Lewis, Shannon Pileggi, &amp; Peter Higgins">
  <title>Data Cleaning</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Data Cleaning</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Crystal Lewis, Shannon Pileggi, &amp; Peter Higgins 
</div>
</div>
</div>

</section>
<section>
<section id="introduction" class="title-slide slide level1 center">
<h1>Introduction</h1>

</section>
<section id="licensing" class="slide level2">
<h2>Licensing</h2>
<p><br></p>
<p>This work is licensed under <a href="https://creativecommons.org/publicdomain/zero/1.0/">Creative Commons Zero v1.0 Universal</a>.</p>
</section>
<section id="instructors" class="slide level2">
<h2>Instructors</h2>
<div class="columns">
<div class="column" style="width:33%;">
<p><strong>Crystal Lewis</strong></p>
<p><img data-src="images/Crystal_circle.png" style="width:70.0%"></p>
</div><div class="column" style="width:33%;">
<p><strong>Shannon Pileggi</strong></p>
<p><img data-src="images/Shannon_circle.png" style="width:70.0%"></p>
</div><div class="column" style="width:33%;">
<p><strong>Peter Higgins</strong></p>
<p><img data-src="images/Peter_circle.jpg" style="width:70.0%"></p>
</div>
</div>
</section>
<section id="scope" class="slide level2">
<h2>Scope</h2>

<img data-src="images/data_beast_allison_horst.jpeg" class="r-stretch quarto-figure-center"><p class="caption">Taming the Data Beast, by Allison Horst</p><p>Taming the Data Beast, from Allison Horst’s <a href="https://allisonhorst.com/data-science-art">Data Science Illustrations</a></p>
</section>
<section id="schedule" class="slide level2">
<h2>Schedule</h2>
<table>
<colgroup>
<col style="width: 42%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th>Time</th>
<th>Activity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>11:00-11:10</td>
<td>Intro/Logistics</td>
</tr>
<tr class="even">
<td>11:10 - 11:55</td>
<td>Crystal Lewis (Data management best practices)</td>
</tr>
<tr class="odd">
<td>11:55 - 12:00</td>
<td><em>Break</em></td>
</tr>
<tr class="even">
<td>12:00 - 12:50</td>
<td>Shannon Pileggi (Data cleaning fundamentals)</td>
</tr>
<tr class="odd">
<td>12:50 - 12:00</td>
<td><em>Break</em></td>
</tr>
<tr class="even">
<td>01:00 - 02:00</td>
<td>Peter Higgins (Data wrangling &amp; reshaping)</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Please add any questions to the public Zoom chat. These may be answered in the moment or addressed at the end depending on context.</p>
</section></section>
<section>
<section id="syntax-aside" class="title-slide slide level1 center">
<h1>Syntax aside</h1>

</section>
<section id="pipes" class="slide level2">
<h2>Pipes</h2>
<ul>
<li><p>2014+ magrittr pipe <code>%&gt;%</code></p></li>
<li><p>2021+ (R <span class="math inline">\(\geq\)</span> 4.1.0) native R pipe <code>|&gt;</code></p></li>
</ul>
<p>2022 Isabella Velásquez Understanding the native R pipe |&gt; <a href="https://ivelasq.rbind.io/blog/understanding-the-r-pipe/" class="uri">https://ivelasq.rbind.io/blog/understanding-the-r-pipe/</a></p>
<div class="fragment">
<p><brshort></brshort></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-2_a118722ddfe3d2b8388695b719052073">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">whatever</span>(arg1, arg2, arg3, ...)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>arg1 <span class="sc">|&gt;</span>  </span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="fu">whatever</span>(arg2, arg3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-3_43c4b95e43ccbe6c13ab98bc0338abae">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">mean</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="dv">0</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4"></a>  <span class="fu">mean</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="footer">
<p>Change <code>CTRL + Shift + M</code> shortcut to native pipe:</p>
<p><code>Tools -&gt; Global Options -&gt; Code -&gt;</code></p>
<p>&nbsp;&nbsp; <code>Editing -&gt; check Use Native Pipe Operator</code></p>
</div>
</div>
</section>
<section id="r-for-data-science-ch-18-pipes" class="slide level2">
<h2>R for Data Science: Ch 18 Pipes</h2>

<img data-src="images/foo-foo.png" class="r-stretch"><div class="footer">
<p><a href="https://r4ds.had.co.nz/pipes.html#pipes" class="uri">https://r4ds.had.co.nz/pipes.html#pipes</a></p>
</div>
</section>
<section id="namespacing" class="slide level2">
<h2>Namespacing</h2>
<p><code>package::function()</code></p>
<p><code>dplyr::select()</code></p>
<ul>
<li><p>tells R explicitly to use the function <code>select</code> from the package <code>dplyr</code></p></li>
<li><p>can help to avoid name conflicts (e.g., <code>MASS::select()</code>)</p></li>
<li><p>does not require <code>library(dplyr)</code></p></li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-4_f17d1176be26064341febfc458f4cd7b">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">select</span>(mtcars, mpg, cyl) </span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>mtcars <span class="sc">|&gt;</span>  </span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">select</span>(mpg, cyl) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-5_f509baf7d1120bc64763172bdfa08dd6">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># library(dplyr) not needed</span></span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(mtcars, mpg, cyl) </span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>mtcars <span class="sc">|&gt;</span>  </span>
<span id="cb4-6"><a href="#cb4-6"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(mpg, cyl) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="principles-of-data-management" class="title-slide slide level1 center">
<h1>Principles of Data Management</h1>
<aside class="notes">
<p>Welcome to the first section of this workshop. We are going to spend the next 30 minutes or so reviewing some foundational principles of data management before we dive into writing R code.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-horror-stories" class="slide level2">
<h2>Data Horror Stories</h2>
<div class="r-stack">
<p><img data-src="images/messy_spreadsheet1.PNG" class="fragment" width="850" height="550"></p>
<p><img data-src="images/messy_spreadsheet2.PNG" class="fragment" width="650" height="450"></p>
<p><img data-src="images/messy_spreadsheet3.PNG" class="fragment" width="550" height="250"></p>
</div>
<aside class="notes">
<p>So I imagine that many of you, at some point in your career, have either created or received a spreadsheet that looks like this</p>
<p>And spreadsheets formatted like this, with color coding and various headers and notes throughout CAN be really helpful when you just needing to eyeball and review some information. But at some point you are probably going to need to actually analyze this data in some sort of statistical program and if you’ve ever tried to read a spreadsheet like this into a program like R, then you probably felt a little like this.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-horror-stories-1" class="slide level2">
<h2>Data Horror Stories</h2>

<img data-src="images/disappointment.png" style="width:90.0%" class="r-stretch quarto-figure-center"><div class="footer">
<p>Image from knowyourmeme.com</p>
</div>
<aside class="notes">
<p>Maybe a little defeated. Because you realize that while those colorful spreadsheets are formatted to be human readable, they are not formatted to be machine readable. And now you are going to have to spend hours and hours of time cleaning those spreadsheets before they can be analyzed in R. And that is what today is about. We are going to first provide you a foundational understanding for how data SHOULD be organized for analysis purposes.</p>
<p>We will also briefly discuss how if at all possible, you want to correct messy data at the source.</p>
<p>And then last, the meat of this presentation will include a review of various R functions that will help you quickly and efficiently turn a very messy dataset into a tidy and useable one.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-organizing-principles" class="slide level2">
<h2>Data Organizing Principles</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Data Structure</li>
<li>Variable Values</li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Variable Types</li>
<li>Missing Data</li>
</ul>
</div>
</div>

<img data-src="images/messy_data.PNG" class="r-stretch"><aside class="notes">
<p>So first we are going to talk about data organizing principles associated with 4 practices. And by reviewing these principles, my hope is that we will all have a shared understanding of how data SHOULD be organized and that understanding will help you to strategically plan for how you should wrangle those messy datasets.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-structure" class="slide level2">
<h2>Data Structure</h2>
<ol type="1">
<li>Data should make a rectangle of rows and columns
<ul>
<li>You should have the expected number of rows (cases in your data)</li>
<li>You should have the expected number of columns (variables in your data)</li>
</ul></li>
</ol>

<img data-src="images/row_col.PNG" class="r-stretch quarto-figure-center"><aside class="notes">
<p>And at the intersection of those rows and columns are cells filled with values</p>
<p>You should have no more or no less than you expect. And when I say “expect”, hopefully have some idea of what should exist in your data. Either you collected it yourself so you have an idea, or you have been given a codebook or data dictionary that tells you what should exist in the data.</p>
<ul>
<li>Extra columns in your data may mean that you have empty columns or unexpected variables</li>
<li>Extra rows could mean you have duplicate cases or empty rows in your data<br>
</li>
<li>Less columns in your data means you might be missing variables<br>
</li>
<li>Less rows in your data means you may be missing cases</li>
</ul>
<p>And these are things that need to be remedied in our data cleaning process</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-structure-1" class="slide level2">
<h2>Data Structure</h2>
<ol start="2" type="1">
<li>Variable names should be the first, and <strong>only</strong> the first, row of your data
<ul>
<li>They should also adhere to best practices</li>
<li>Variable names should
<ul>
<li>Be unique</li>
<li>Be meaningful (<code>gender</code> instead of <code>X1</code>)</li>
<li>Not include spaces</li>
<li>Not include special characters except <code>_</code>
<ul>
<li>So no <code>/</code>, <code>-</code>, <code>!</code>, <code>"</code></li>
</ul></li>
<li>Not start with a number or special character</li>
</ul></li>
</ul></li>
</ol>
<aside class="notes">
<p>The second principle regarding data structure</p>
<p>These aren’t just arbitrary practices. They serve a purpose.</p>
<ul>
<li>First, they make your variable names more interpretable and easier to work with<br>
</li>
<li>They also make your variables more compatiable with languages such as R. For instance, R does not allow variable names to start with numbers. It will give you an error if you do this. Another example is that R also does not allow you to include dashes or hyphens in your variable names. They are consider subtraction or negation operators. So again you will get an error if you include those characters in your variable names.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="exercise" class="slide level2">
<h2>Exercise</h2>
<p>What data structure issues do you notice in our sample data?</p>

<img data-src="images/messy_data.PNG" class="r-stretch quarto-figure-center"><div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_e0a6c182" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:1em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">01</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<aside class="notes">
<p>So let’s do a quick exercise. Take one minute to review this messy data and look for any structure issues going on here. And by structure I mean review both how the rows and columns are laid out as well as variable names. If you find any errors, type them in the chat.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-structure-2" class="slide level2">
<h2>Data Structure</h2>
<ul>
<li>Variable names are not the first row of the data</li>
<li>Our data does not make a rectangle - Empty column, empty rows</li>
<li>Variable names do not adhere to best practices</li>
</ul>

<img data-src="images/structure.PNG" class="r-stretch quarto-figure-center"></section>
<section id="variable-values" class="slide level2">
<h2>Variable Values</h2>
<ol type="1">
<li>Values should be explicit, not implicit
<ul>
<li>If a blank cell is implied to be zero, fill that cell with an actual zero</li>
<li>No color coding should be used to indicate information. Make a new variable.</li>
</ul></li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li>Values should be analyzable. This means no more than one measure should be captured in a variable.</li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>Variables should be captured consistently within a column
<ul>
<li>Dates captured consistently (i.e.&nbsp;<a href="https://www.iso.org/iso-8601-date-and-time-format.html">YYYY-MM-DD</a>)</li>
<li>Categories captured consistently (both spelling and capitalization)</li>
<li>If the variable is numeric, values should fall within your expected range</li>
</ul></li>
</ol>
<aside class="notes">
<ol type="1">
<li>We don’t ever want anyone to have to guess what a cell value means</li>
</ol>
<ul>
<li>If you are color coding a variable in order to indicate treatment, instead make a treatment variable and add the values to that variable</li>
</ul>
<ol start="2" type="1">
<li><p>So for instance, we don’t want both weight and height in the same variable. It would be very difficult to analyze a variable with combined information. We would want to split this information into two columns.</p></li>
<li><p>Pick a format and stick to it</p></li>
</ol>
<ul>
<li><p>For instance you could make a decision to always capture dates in this ISO 8601 standardized format which is a really nice format to work with. But whatever format you choose, make sure all dates are captured using the same format. You can click on this date in the slides to learn more about this specific format.</p></li>
<li><p>So if you’re capturing gender, you always want to spell male the same way, always want to spell female the same way. This allows your data to be easily categorized.</p></li>
<li><p>So if the range for a variable is 1-50, you shouldn’t see values outside of that range</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="exercise-1" class="slide level2">
<h2>Exercise</h2>
<p>What variable value issues do you notice in our sample data?</p>

<img data-src="images/messy_data.PNG" class="r-stretch quarto-figure-center"><div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_ebc464db" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:1em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">01</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="variable-values-1" class="slide level2">
<h2>Variable Values</h2>
<ul>
<li>Color coding used to indicate information</li>
<li>Two things measured in one column</li>
<li>Categorical values captured inconsistently</li>
</ul>

<img data-src="images/values.PNG" class="r-stretch quarto-figure-center"></section>
<section id="variable-types" class="slide level2">
<h2>Variable Types</h2>
<p>Variables should be stored as your expected type (or in R terms - <code>class</code>)</p>
<div class="fragment">
<ol type="1">
<li><strong>Numeric</strong>
<ul>
<li>Contain numeric values (14.5, 14.539, 789, -24)</li>
<li>Numeric variables cannot contain special characters, spaces, or letters
<ul>
<li>100mg</li>
<li>83/150</li>
<li>” 89”</li>
</ul></li>
</ul></li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><strong>Date, Time, Date-Time</strong>
<ul>
<li>Represented in R as either <code>&lt;date&gt;</code>, <code>&lt;time&gt;</code> or <code>&lt;dttm&gt;</code>/<code>&lt;POSIXct&gt;</code></li>
<li>Allow you to perform calculations on dates</li>
</ul></li>
</ol>
<aside class="notes">
<p>Or in the R world, we may refer to this as a variable class.</p>
<p>So let’s review a few of the variable classes you might work with.</p>
<ol type="1">
<li><p>If your variable contains non-numeric values, the class will be character. And you will no longer be able to perform calculations on your numeric variable, so no means, ranges, etc.</p></li>
<li><p>Represented in R as one of these formats. Because of the way dates are stored in R, they allow you to perform calculations using your dates, which is cool. You can add dates, subtract dates, etc. So as long as your dates are stored as dates, then you are good. However, if your dates are stored as character values, you will not be able to perform calculations on your dates.</p></li>
</ol>
<p>It’s important to check your date types when you read in your data. While sometimes they are read in as dates, othertimes they may be read in as character values or numeric values and it’s important to be aware of this.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="variable-types-1" class="slide level2">
<h2>Variable Types</h2>
<ol start="3" type="1">
<li><strong>Character</strong>
<ul>
<li>Contain character values or strings (“kg”, “R in Medicine”, “11.5”, “5mg”)</li>
</ul></li>
</ol>
<div class="fragment">
<ol start="4" type="1">
<li><strong>Factor</strong>
<ul>
<li>A special class of variables, helpful when working with categorical or ordinal variables</li>
<li>Factors assign an order to your variable groups</li>
<li>You must assign this class to your variables</li>
<li>You can learn more about working with factors in this article: <a href="https://peerj.com/preprints/3163/">Wrangling Categorical Data in R</a></li>
</ul></li>
</ol>
<aside class="notes">
<ol start="3" type="1">
<li><p>You can even store numbers as characters. But remember, if you want to analyze those values as numeric, you will need to change them to a numeric format.</p></li>
<li><p>Very useful for ordering your groups in tables, graphs, or models</p></li>
</ol>
<p>You must assign this class to your variables</p>
<p>So when you read in your data, your character variables will not automatically be assigned as factors. You need to assign this class yourself.</p>
<p>And then last, because factors can be a little tricky to understand and work with, you can learn more about working with factors in this article from Amelia McNamara and Nicholas Horton.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="exercise-2" class="slide level2">
<h2>Exercise</h2>
<p>What is the R class for the following variables?</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">var1</a></li><li><a href="#tabset-1-2">var2</a></li><li><a href="#tabset-1-3">var3</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-8_71a6640e35c09622cadaf5c4b6d292a1">
<div class="cell-output cell-output-stdout">
<pre><code>[1] " 7.5" "2"    "3.6" </code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-9_39bceb25a1b122444866d3e3e0918ab4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">class</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-10_b06e952a48f96b4d8d2e114552e38288">
<div class="cell-output cell-output-stdout">
<pre><code>[1] medium medium low    high   low   
Levels: low medium high</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-11_62bdbc7f2fee059603a7ffe857527d06">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">class</span>(var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
</div>
</div>
<div id="tabset-1-3">
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-12_0a260085b30fb9b5a943fe8cb3423898">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "50kg" "59kg" "82kg"</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-13_627ca7a176daa68e3a2b0cdf70d1033e">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">class</span>(var3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-3" class="slide level2">
<h2>Exercise</h2>
<p>What variable type issues do you notice in our sample data?</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/type_clean.PNG" style="width:80.0%;height:80.0%"></p>
</figure>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_7fe9f2e9" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:1em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">01</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="variable-types-2" class="slide level2">
<h2>Variable Types</h2>
<ul>
<li>Dates stored as numbers</li>
<li>Text stored in numeric variables</li>
</ul>

<img data-src="images/type.PNG" class="r-stretch quarto-figure-center"></section>
<section id="missing-data" class="slide level2">
<h2>Missing Data</h2>
<ol type="1">
<li>Missing data should appear as you expect it to
<ul>
<li>The amount of missingness</li>
<li>The variables/cases that data is missing for</li>
</ul></li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li>Use consistent values to indicate missing responses
<ul>
<li>Blanks? NAs? -999?</li>
<li>Document your decision</li>
<li>The missing values should match your variable type
<ul>
<li>i.e., Don’t use “no response” in a numeric variable</li>
</ul></li>
</ul></li>
</ol>
<aside class="notes">
<ol start="2" type="1">
<li>So there are varying opinions on how missing data should be assigned.</li>
</ol>
<ul>
<li><p>Some people think that missing data should be explicitly assigned with an extreme value like -999. That way you know that the cell wasn’t just skipped over by accident when data was being entered.</p></li>
<li><p>Some people prefer to just leave the cell blank to not cause confusion by adding extreme values to a variable.</p></li>
</ul>
<p>I personally have no preference for which method you use. I think it is important to be aware of the problems that can be caused by adding extreme values to your data. If you add -999 as a missing value, be aware that someone could accidentally interpret that as an actual value, leading to bad results.</p>
<p>Ultimately I think what is important though, is that you use consistent values to represent missing data (choose one and stick with it).</p>
<p>Then, make sure your choices are documented so that future users know how to interpret the values in your data.</p>
<p>AND last, make sure that your missing values match your variable type. If you use text to define missing values in a numeric variable, that variable will no longer be considered a numeric variable. So be aware of this.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="exercise-4" class="slide level2">
<h2>Exercise</h2>
<p>What missing data issues do you notice in our sample data?</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/missing_clean.PNG" style="width:75.0%;height:70.0%"></p>
</figure>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_607414e3" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:1em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">01</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="missing-data-1" class="slide level2">
<h2>Missing Data</h2>
<ul>
<li>Unexpected missing data</li>
<li>Inconsistent missing values used</li>
<li>Missing values do not match variable type</li>
</ul>

<img data-src="images/missing.PNG" class="r-stretch quarto-figure-center"></section>
<section id="error-reduction" class="slide level2">
<h2>Error Reduction</h2>
<p>The number one way to reduce data errors is to make a plan before you collect data</p>
<blockquote>
<p>Correct data at the source</p>
</blockquote>
<p><br></p>
<div class="fragment">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Plan the variables you want to collect</p>
</div>
<div class="fragment">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Build your data collection/entry tools in a way that follows your plan</p>
</div>
<div class="fragment">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Test your data tools before collecting/entering data</p>
</div>
<div class="fragment">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Check your data often during data collection/entry</p>
<aside class="notes">
<p>So if you have the luxury of being able to collect your own data, you want to make sure that you spend time planning so you can correct data at the source</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="plan-the-variables-you-want-to-collect" class="slide level2">
<h2>Plan the variables you want to collect</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Necessary to plan for</strong></p>
<ul>
<li>Variable name</li>
<li>Variable label/item wording</li>
<li>Variable type</li>
<li>Allowable values/ranges</li>
<li>Missing values</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Nice to plan for</strong></p>
<ul>
<li>Skip patterns</li>
<li>Required items</li>
<li>Variable universe</li>
</ul>
</div>
</div>
<aside class="notes">
<p>These items on the right can be really helpful to plan for if you are collecting something like survey data in particular. These items will help you better understand when and why you might have missing data for items.</p>
<ol type="1">
<li>Are there skip patterns for any items? What is the logic for those items?</li>
<li>Are items required or are people allowed to skip items?</li>
<li>What is the variable universe for each item? Will the whole sample get each item or are some items only shown to a subsample of your group?</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="add-those-variables-to-a-data-dictionary" class="slide level2">
<h2>Add those variables to a data dictionary</h2>
<p><br></p>
<div class="cell" data-hash="index_cache/revealjs/dictionary_b4bb4a401c2228399bcf72402b4fe3ff">
<div class="cell-output-display">

<div id="yykcbpacnd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yykcbpacnd table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yykcbpacnd thead, #yykcbpacnd tbody, #yykcbpacnd tfoot, #yykcbpacnd tr, #yykcbpacnd td, #yykcbpacnd th {
  border-style: none;
}

#yykcbpacnd p {
  margin: 0;
  padding: 0;
}

#yykcbpacnd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yykcbpacnd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yykcbpacnd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yykcbpacnd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yykcbpacnd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yykcbpacnd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yykcbpacnd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yykcbpacnd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yykcbpacnd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yykcbpacnd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yykcbpacnd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yykcbpacnd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yykcbpacnd .gt_spanner_row {
  border-bottom-style: hidden;
}

#yykcbpacnd .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yykcbpacnd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yykcbpacnd .gt_from_md > :first-child {
  margin-top: 0;
}

#yykcbpacnd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yykcbpacnd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yykcbpacnd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yykcbpacnd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yykcbpacnd .gt_row_group_first td {
  border-top-width: 2px;
}

#yykcbpacnd .gt_row_group_first th {
  border-top-width: 2px;
}

#yykcbpacnd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yykcbpacnd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yykcbpacnd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yykcbpacnd .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yykcbpacnd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yykcbpacnd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yykcbpacnd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yykcbpacnd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yykcbpacnd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yykcbpacnd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yykcbpacnd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yykcbpacnd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yykcbpacnd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yykcbpacnd .gt_left {
  text-align: left;
}

#yykcbpacnd .gt_center {
  text-align: center;
}

#yykcbpacnd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yykcbpacnd .gt_font_normal {
  font-weight: normal;
}

#yykcbpacnd .gt_font_bold {
  font-weight: bold;
}

#yykcbpacnd .gt_font_italic {
  font-style: italic;
}

#yykcbpacnd .gt_super {
  font-size: 65%;
}

#yykcbpacnd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yykcbpacnd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yykcbpacnd .gt_indent_1 {
  text-indent: 5px;
}

#yykcbpacnd .gt_indent_2 {
  text-indent: 10px;
}

#yykcbpacnd .gt_indent_3 {
  text-indent: 15px;
}

#yykcbpacnd .gt_indent_4 {
  text-indent: 20px;
}

#yykcbpacnd .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="var_name">var_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label">label</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="type">type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="values">values</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="missing_values">missing_values</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="var_name" class="gt_row gt_left">pat_id</td>
<td headers="label" class="gt_row gt_left">Patient Identifier</td>
<td headers="type" class="gt_row gt_left">character</td>
<td headers="values" class="gt_row gt_left">001-030</td>
<td headers="missing_values" class="gt_row gt_left">NA</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">treatment</td>
<td headers="label" class="gt_row gt_left">Treatment for UC</td>
<td headers="type" class="gt_row gt_left">character</td>
<td headers="values" class="gt_row gt_left">upa; uste; oza</td>
<td headers="missing_values" class="gt_row gt_left">NA</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">start_date</td>
<td headers="label" class="gt_row gt_left">Date of start of treatment</td>
<td headers="type" class="gt_row gt_left">date</td>
<td headers="values" class="gt_row gt_left">YYYY-MM-DD</td>
<td headers="missing_values" class="gt_row gt_left">NA</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">ethnic</td>
<td headers="label" class="gt_row gt_left">Ethnicity - hispanic or not hispanic</td>
<td headers="type" class="gt_row gt_left">character</td>
<td headers="values" class="gt_row gt_left">hispanic; not hispanic</td>
<td headers="missing_values" class="gt_row gt_left">missing</td></tr>
    <tr><td headers="var_name" class="gt_row gt_left">start_mes</td>
<td headers="label" class="gt_row gt_left">Mayo endoscopic Score at start of treatment</td>
<td headers="type" class="gt_row gt_left">numeric</td>
<td headers="values" class="gt_row gt_left">0-3</td>
<td headers="missing_values" class="gt_row gt_left">-99</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<aside class="notes">
<p>A data dictionary is a rectangular formatted collection of names, definitions, and attributes about variables in a dataset</p>
<p>Set this up similar to a dataset, with a row and column layout, with variable names in first row</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-your-tools-based-on-your-data-dictionary" class="slide level2">
<h2>Build your tools based on your data dictionary</h2>
<ul>
<li><p>Excel</p></li>
<li><p>Qualtrics</p></li>
<li><p>RedCap</p></li>
<li><p>Know the strengths and limitations of your tool</p>
<ul>
<li>Consider things such a privacy (PHI), versioning, validation</li>
<li><a href="https://www.youtube.com/watch?v=9f-hpJbjKZo&amp;t=7s">Tidy Spreadsheets in Medical Research (70 mins)</a></li>
</ul></li>
</ul>
<aside class="notes">
<p>And by tool I mean whatever program you use to collect or enter data. So that could be Excel, RedCap, Qualtrics, or something else. Not all data entry and collection tools are created equal so make sure to consider the limitations and strengths of your tools.</p>
<p>Consider how your tool handles things like data security and privacy, versioning, and data validation.</p>
<p>We are not going to explore different data collection and entry tools today but if you want to learn more about the strengths and weaknesses of various tools, specifically if you want to learn the limitations of using Excel as a data collection tool, you can watch this video from a previous R in Medicine workshop.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-your-tools-based-on-your-data-dictionary-1" class="slide level2">
<h2>Build your tools based on your data dictionary</h2>
<div class="fragment">
<p><br></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Name your variables correctly in your tool</p>
<ul>
<li>Instead of Q1, Q2, Q3 -&gt; id, start_date, treatment</li>
</ul>
</div>
<div class="fragment">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Build items to only accept allowable values</p>
<ul>
<li>Only within specified range (0-50)</li>
<li>Only within specified categories (“hispanic”, “not hispanic”)</li>
</ul>
</div>
<div class="fragment">
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#7090A5;overflow:visible;position:relative;"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg> Build items to only accept specified variable types</p>
<ul>
<li>Only numeric values</li>
<li>Only dates in the YYYY-MM-DD format</li>
</ul>
<aside class="notes">
<p>So once you’ve chosen your tool, you want to build your data collection/entry screens based on your data dictionary</p>
<ol type="1">
<li><p>This reduces confusion during data entry, and also creates less data cleaning steps when you export your data</p></li>
<li><p>If working with numeric items, only allow values in a specified range, for example 0-50. You can set these validation rules in your tools, so that if someone tries to enter 51, it will say, this value is not allowed</p></li>
</ol>
<p>If working with categorical items, only allow values in specified categories. Here it can be really helpful to use something like a drop down menu instead of open text boxes to make sure you own collect allowable values only.</p>
<ol start="3" type="1">
<li>Again, you can set these content validation rules in your tools so that a warning will pop up when unexpected formats or types are entered</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="test-your-data-collection-or-entry-tool" class="slide level2">
<h2>Test your data collection or entry tool</h2>
<ul>
<li>Collect/enter sample data
<ul>
<li>Are any items missing?</li>
<li>Are you getting unexpected values for items?
<ul>
<li>Values out of range</li>
<li>Incorrect formats</li>
<li>Inconsistent entries
<ul>
<li>“m”, “male”, “Male”, “MALE”</li>
</ul></li>
</ul></li>
<li>Is the skip logic working as expected?</li>
<li>Are people able to skip items that they should not be able to skip?</li>
</ul></li>
</ul>
<aside class="notes">
<p>If you find anything wrong, fix this in your tool before you begin to collect or enter data</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="review-your-data-often-during-data-collection-or-entry" class="slide level2">
<h2>Review your data often during data collection or entry</h2>
<ol type="1">
<li>Validate your data based on your expectations
<ul>
<li><code>pointblank</code></li>
<li><code>validate</code></li>
<li><code>assertr</code></li>
<li><code>dataquieR</code></li>
<li>Excellent resource: <a href="https://www.youtube.com/watch?v=0d1c-8yw6Tk">Data Validation in R: From Principles to Tools and Packages (80 minutes)</a></li>
</ul></li>
</ol>
<aside class="notes">
<p>One option for reviewing your data is to write code in a program such as R, to validate your specified criteria. You can write code to validate that variables are your expected types, fall within expected ranges, ids are not duplicated and so forth.</p>
<p>Here are a couple of R packages that have functions specifically for validation purposes and they export really helpful reports for you to review. There will actually be a presentation during this conference on the last package on this list. I believe on Thursday at 3 Eastern Time.</p>
<p>This is a link to a great talk on validation that reviews all of these packages and more. I highly recommend watching it.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pointblank-report" class="slide level2">
<h2><code>pointblank</code> report</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Code</a></li><li><a href="#tabset-2-2">Report</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-17_f6e8059e0dd30cde2313ab80bd3eb3ed">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">library</span>(pointblank)</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co"># Import my data</span></span>
<span id="cb14-4"><a href="#cb14-4"></a></span>
<span id="cb14-5"><a href="#cb14-5"></a>df_raw <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"data/mydata.csv"</span>)</span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co"># Check my assumptions</span></span>
<span id="cb14-8"><a href="#cb14-8"></a></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="fu">create_agent</span>(df_raw) <span class="sc">|&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="fu">rows_distinct</span>(<span class="at">columns =</span> <span class="fu">vars</span>(pat_id)) <span class="sc">|&gt;</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>  <span class="fu">col_vals_not_null</span>(<span class="at">columns =</span> <span class="fu">vars</span>(pat_id)) <span class="sc">|&gt;</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>  <span class="fu">col_is_date</span>(<span class="at">columns =</span> <span class="fu">vars</span>(start_date)) <span class="sc">|&gt;</span></span>
<span id="cb14-13"><a href="#cb14-13"></a>  <span class="fu">col_is_numeric</span>(<span class="at">columns =</span> <span class="fu">vars</span>(start_mes)) <span class="sc">|&gt;</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>  <span class="fu">col_vals_in_set</span>(<span class="at">columns =</span> <span class="fu">vars</span>(treatment), <span class="at">set =</span> <span class="fu">c</span>(<span class="st">"upa"</span>, <span class="st">"uste"</span>, <span class="st">"oza"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15"></a>  <span class="fu">col_vals_in_set</span>(<span class="at">columns =</span> <span class="fu">vars</span>(ethnic), <span class="at">set =</span> <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"not hispanic"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>  <span class="fu">col_vals_between</span>(<span class="at">columns =</span> <span class="fu">vars</span>(start_mes), <span class="at">left =</span> <span class="dv">0</span>, <span class="at">right =</span> <span class="dv">3</span>, <span class="at">na_pass =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>  <span class="fu">interrogate</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/pointblank.PNG" style="width:80.0%;height:90.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>So here I am showing a very brief example of how I might set up some validation criteria using the pointblank package. And I could run this on a recurring schedule during data collection or entry to make sure everything is being collected as expected.</p>
<p>And when I run this code, I receive this report that assures me that everything is being collected as expected EXCEPT there are two variables that fail. My start_date variable is not being collected in a date format and my ethnicity variable has collected some unexpected values. And this is something that if caught early, I could go and fix in my tool. Because if I don’t fix this, I could end up with really messy data, or I might end up with data that is completely unusable if there are some values collected that I am unable to interpret.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="review-your-data-often-during-data-collection" class="slide level2">
<h2>Review your data often during data collection</h2>
<ol start="2" type="1">
<li>Create a codebook to review univariate summary statistics
<ul>
<li><code>codebookr</code></li>
<li><code>codebook</code></li>
<li><code>memisc</code></li>
<li><code>sjPlot</code></li>
</ul></li>
</ol>
<aside class="notes">
<p>A second option for reviewing your data during collection is to create a codebook. Codebooks provide descriptive variable-level information as well univariate summary statistics (such as means, ranges, counts). There are several R packages that automate the creation of codebooks.</p>
<p>But unlike validation, where we write code based on individualized criteria, for the most part, these codebooks provide similar out of the box summary statistics that allow you to get a feel for what is going on in your data.</p>
<p>Both the validation and codebook methods provide you solid information to help you better understand if your data is being collected as expected.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="codebookr-codebook" class="slide level2">
<h2><code>codebookr</code> codebook</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Code</a></li><li><a href="#tabset-3-2">Codebook</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-18_b0310d0d02c77d991b49272f0983f0cb">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">library</span>(codebookr)</span>
<span id="cb15-2"><a href="#cb15-2"></a></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co"># Import my data</span></span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a>df_raw <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"data/mydata.csv"</span>)</span>
<span id="cb15-6"><a href="#cb15-6"></a></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co"># Create my codebook</span></span>
<span id="cb15-8"><a href="#cb15-8"></a></span>
<span id="cb15-9"><a href="#cb15-9"></a>df_codebook <span class="ot">&lt;-</span> <span class="fu">codebook</span>(df_raw)</span>
<span id="cb15-10"><a href="#cb15-10"></a></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="fu">print</span>(df_codebook,<span class="st">"my_codebookr_codebook.docx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/codebook.PNG" style="width:85.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Here is one example of a codebook created using the codebookr package. And if I ran that code, you can see it gives me a codebook that looks like this.</p>
<p>At the top it provides me some overarching dataset summary information and then it quickly jumps into variable-level information including summary statistics.</p>
<p>And I could once again see here that I am having issues with my start_date variable, it’s being collected as a numeric type instead of a date. And my ethnicity variable has some unexpected values. And I would want to go correct this at the source so I can fix this issue sooner rather than later.</p>
<p>And the last thing to know about codebooks is that they are even more useful when working with data that contains embedded metadata (like variable and value labels - you see in this in data that comes from programs like SPSS or Stata). When working with labelled data, those labels are displayed in the codebook. So for instance, if the data were labelled, you would see variable descriptions under each variable section, that describes what each variable represents. So for instance, under pat_id, you would see a label that says “patient unique identifier”. And that descriptive information helps me to better interpret the data. But as you can see, codebooks work fine without labels as well.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="data-cleaning-practices" class="title-slide slide level1 center">
<h1>Data Cleaning Practices</h1>
<aside class="notes">
<p>So all of those practices we just covered are obviously done in an ideal world, where we have autonomy over how data is collected. But there are obviously still going to be situations where you are handed data that you had no control over the collection/entry process.</p>
<p>Or maybe, even if you did collect our own data, despite your best efforts to collect/enter clean data, you still ended up with data that contains errors</p>
<p>For the remainder of this workshop we will be working through a sample messy dataset to both identify and resolve issues to leave us with a usable tidy dataset that is ready for analysis.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="scenario" class="slide level2">
<h2>Scenario</h2>
<ul>
<li><p>We have data that originate from an observational study comparing 3 treatments of ulcerative colitis (UC)</p></li>
<li><p>We have an analysis question:</p>
<ul>
<li>Are there differences in change in MES and QOL scores between start and finish, and are the decreases in scores greater for any of the 3 new medications?</li>
</ul></li>
<li><p>In order to answer this question, we have asked a student to extract data from the medical record into Excel</p></li>
<li><p>Along with the spreadsheet, we are provided a data dictionary</p></li>
<li><p>As we start to review the data, we find a sundry of errors that need correction</p></li>
</ul>
</section>
<section id="exercise-5" class="slide level2">
<h2>Exercise</h2>
<p>Take 2 minutes to review the data dictionary and our data.</p>
<p>Give instructions here….</p>

<img data-src="images/data_file.PNG" style="width:80.0%" class="r-stretch"><div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_1476abe6" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:3em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<aside class="notes">
<p>So we have this scenario. And believe it or not, we are not going to jump into reading the data into R just yet. The first thing we really should do is open the Excel file to review both the data AND the data dictionary. While it seems low-tech, it is actually really important to learn what you are getting into before reading your file into R.</p>
<p>So both the data and data dictionary are in the same file. So let’s take 2 minutes to open our file and review both the data dictionary and the data to see what is actually going on in our file.</p>
<p>….</p>
<p>So hopefully you noticed a few things upon reviewing our data.</p>
<ol type="1">
<li><p>Our variable names are not the first row of our data. There are 6 rows of irrelevant information before we finally get to our variable names. That is really important to know before we try to import our data.</p></li>
<li><p>Our data is not the first sheet of our Excel file. It’s actually the 3rd sheet over. And that’s also important to know.</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="import-our-file" class="slide level2">
<h2>Import our file</h2>
<ul>
<li><p>We are going to use the <code>read_excel()</code> function from the <code>readxl</code> package</p></li>
<li><p>There are several arguments to consider when using this function</p>
<ul>
<li>path</li>
<li>sheet = NULL</li>
<li>col_names = TRUE</li>
<li>na = ” ”</li>
<li>skip = 0</li>
</ul></li>
<li><p>type <code>?read_excel</code> in your console to see more arguments</p></li>
</ul>
<aside class="notes">
<p>So now we are ready to import our data into R</p>
<p>The first thing we would want to do is open an R script</p>
<ul>
<li>list the path to our xlsx file</li>
<li>we can add the name or position of the sheet to read in</li>
<li>should R grab column names from the first row in your data?</li>
<li>are there any values that R should read in as NA? For instance, if we had added -999 as our missing values indicator, we could tell R to convert all of our -999s to NA when we read the data in</li>
<li>what is the minimum number of rows R should skip before reading anything?</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="import-our-file-1" class="slide level2">
<h2>Import our file</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Script</a></li><li><a href="#tabset-4-2">Code</a></li><li><a href="#tabset-4-3">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p><img data-src="images/script.PNG" style="width:70.0%"></p>
</div>
<div id="tabset-4-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-20_7822923bc7570748206eecf02c5b920b">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co"># Import our file</span></span>
<span id="cb16-4"><a href="#cb16-4"></a></span>
<span id="cb16-5"><a href="#cb16-5"></a>df_raw <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"data/messy_uc.xlsx"</span>,</span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="at">sheet =</span> <span class="st">"__"</span>, <span class="at">skip =</span> __</span>
<span id="cb16-7"><a href="#cb16-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-22_77e27571642495dba045e3f44e78a6f8">
<div class="cell-output-display">

<div id="hgowbrklrl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hgowbrklrl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hgowbrklrl thead, #hgowbrklrl tbody, #hgowbrklrl tfoot, #hgowbrklrl tr, #hgowbrklrl td, #hgowbrklrl th {
  border-style: none;
}

#hgowbrklrl p {
  margin: 0;
  padding: 0;
}

#hgowbrklrl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hgowbrklrl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hgowbrklrl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hgowbrklrl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hgowbrklrl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hgowbrklrl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hgowbrklrl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hgowbrklrl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hgowbrklrl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hgowbrklrl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hgowbrklrl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hgowbrklrl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hgowbrklrl .gt_spanner_row {
  border-bottom-style: hidden;
}

#hgowbrklrl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hgowbrklrl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hgowbrklrl .gt_from_md > :first-child {
  margin-top: 0;
}

#hgowbrklrl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hgowbrklrl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hgowbrklrl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hgowbrklrl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hgowbrklrl .gt_row_group_first td {
  border-top-width: 2px;
}

#hgowbrklrl .gt_row_group_first th {
  border-top-width: 2px;
}

#hgowbrklrl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgowbrklrl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hgowbrklrl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hgowbrklrl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hgowbrklrl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgowbrklrl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hgowbrklrl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hgowbrklrl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hgowbrklrl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hgowbrklrl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hgowbrklrl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgowbrklrl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hgowbrklrl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hgowbrklrl .gt_left {
  text-align: left;
}

#hgowbrklrl .gt_center {
  text-align: center;
}

#hgowbrklrl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hgowbrklrl .gt_font_normal {
  font-weight: normal;
}

#hgowbrklrl .gt_font_bold {
  font-weight: bold;
}

#hgowbrklrl .gt_font_italic {
  font-style: italic;
}

#hgowbrklrl .gt_super {
  font-size: 65%;
}

#hgowbrklrl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hgowbrklrl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hgowbrklrl .gt_indent_1 {
  text-indent: 5px;
}

#hgowbrklrl .gt_indent_2 {
  text-indent: 10px;
}

#hgowbrklrl .gt_indent_3 {
  text-indent: 15px;
}

#hgowbrklrl .gt_indent_4 {
  text-indent: 20px;
}

#hgowbrklrl .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pat_id">pat_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="treatment">treatment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="start_date">start_date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="ethnic">ethnic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="race">race</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="dob">dob</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="...7">...7</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="start_bp">start_bp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pre/post_wt_kg">pre/post_wt_kg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="start_mes">start_mes</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="pat_id" class="gt_row gt_right">001</td>
<td headers="treatment" class="gt_row gt_left">upa</td>
<td headers="start_date" class="gt_row gt_right">44208</td>
<td headers="ethnic" class="gt_row gt_left">hispanic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">2005-01-07</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">114/72</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">84/82</td>
<td headers="start_mes" class="gt_row gt_right">3</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">002</td>
<td headers="treatment" class="gt_row gt_left">uste</td>
<td headers="start_date" class="gt_row gt_right">44215</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">1937-04-13</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">132/86</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">77/77</td>
<td headers="start_mes" class="gt_row gt_right">2</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">003</td>
<td headers="treatment" class="gt_row gt_left">oza</td>
<td headers="start_date" class="gt_row gt_right">44230</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">African-American</td>
<td headers="dob" class="gt_row gt_right">1946-06-06</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">124/92</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">74/75</td>
<td headers="start_mes" class="gt_row gt_right">1</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">004</td>
<td headers="treatment" class="gt_row gt_left">upa</td>
<td headers="start_date" class="gt_row gt_right">44245</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">1963-07-14</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">144/83</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">66/65</td>
<td headers="start_mes" class="gt_row gt_right">3</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">005</td>
<td headers="treatment" class="gt_row gt_left">oza</td>
<td headers="start_date" class="gt_row gt_right">44255</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Mixed</td>
<td headers="dob" class="gt_row gt_right">1978-05-12</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">122/78</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">55/56</td>
<td headers="start_mes" class="gt_row gt_right">3</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">006</td>
<td headers="treatment" class="gt_row gt_left">uste</td>
<td headers="start_date" class="gt_row gt_right">44259</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Other</td>
<td headers="dob" class="gt_row gt_right">1992-04-03</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">121/80</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">111/110</td>
<td headers="start_mes" class="gt_row gt_right">2</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">007</td>
<td headers="treatment" class="gt_row gt_left">uste</td>
<td headers="start_date" class="gt_row gt_right">44264</td>
<td headers="ethnic" class="gt_row gt_left">not hispanic</td>
<td headers="race" class="gt_row gt_left">Asian</td>
<td headers="dob" class="gt_row gt_right">1955-08-22</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">133/74</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">133/130</td>
<td headers="start_mes" class="gt_row gt_right">3</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">008</td>
<td headers="treatment" class="gt_row gt_left">oza</td>
<td headers="start_date" class="gt_row gt_right">44999</td>
<td headers="ethnic" class="gt_row gt_left">Hispanic</td>
<td headers="race" class="gt_row gt_left">afromerican</td>
<td headers="dob" class="gt_row gt_right">1974-09-11</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">116/73</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">74/76</td>
<td headers="start_mes" class="gt_row gt_right">3</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">009</td>
<td headers="treatment" class="gt_row gt_left">upa</td>
<td headers="start_date" class="gt_row gt_right">44276</td>
<td headers="ethnic" class="gt_row gt_left">NOT hispanic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">1984-11-14</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">118/66</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">82/80</td>
<td headers="start_mes" class="gt_row gt_right">2</td></tr>
    <tr><td headers="pat_id" class="gt_row gt_right">010</td>
<td headers="treatment" class="gt_row gt_left">oza</td>
<td headers="start_date" class="gt_row gt_right">44278</td>
<td headers="ethnic" class="gt_row gt_left">hispamnic</td>
<td headers="race" class="gt_row gt_left">Caucasian</td>
<td headers="dob" class="gt_row gt_right">1972-12-20</td>
<td headers="...7" class="gt_row gt_center">NA</td>
<td headers="start_bp" class="gt_row gt_right">122/78</td>
<td headers="pre/post_wt_kg" class="gt_row gt_right">85/87</td>
<td headers="start_mes" class="gt_row gt_right">3</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>So as I mentioned before, the very first thing we would do is open our script so that we can save our code as we write it. So your RStudio pane would look something like this.</p>
<p>And then we would use the read_excel function to read in our data</p>
<p>Notice that I am giving you a hint here that in this situation we want to use both the sheet and then skip arguments. I am not showing you the full code because we are going to do this in an exercise here in just a moment.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="exercise-6" class="slide level2">
<h2>Exercise</h2>
<p><br></p>
<p>Your turn! Take 3 minutes to import the data.</p>
<p><br></p>
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/exercises.html#cl1" target="_blank">–&gt; Take me to the exercises &lt;–</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_254963b3" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="review-the-data" class="slide level2">
<h2>Review the data</h2>
<blockquote>
<p>EDA is not a formal process with a strict set of rules. More than anything, EDA is a state of mind. During the initial phases of EDA you should feel free to investigate every idea that occurs to you. <em>- R for Data Science</em></p>
</blockquote>

<img data-src="https://media.giphy.com/media/lXu72d4iKwqek/giphy.gif" style="width:80.0%" class="r-stretch quarto-figure-center"><div class="footer">
<p>Image from giphy.com</p>
</div>
<aside class="notes">
<p>Now that we’ve imported our data, it’s time to start reviewing the data</p>
<p>To quote the authors of R 4 Data Science</p>
<p>Or data exploration</p>
<p>So what does this mean? It means there is no one prescriptive way to review your data. There are endless ways to figure out if there are errors in your data. Try any ideas you can think of. With that said, there are still some common steps you can at least start with.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="review-the-data-1" class="slide level2">
<h2>Review the data</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:40%;">
<p>Get to know your data</p>
<ul>
<li>How many rows? How many columns?</li>
<li>What are the variable types?</li>
<li>What are variable values?</li>
<li>How much missing data is there?</li>
<li>How are variables related?</li>
</ul>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:50%;">
<p>There are several functions that can be used to explore data</p>
<ul>
<li><code>dplyr::glimpse()</code></li>
<li><code>skimr::skim()</code></li>
<li><code>base::summary()</code></li>
<li><code>visdat:vis_dat()</code></li>
<li><code>summarytools::dfSummary()</code></li>
<li><code>DataExplorer::create_report()</code></li>
<li><code>Hmisc::describe()</code></li>
</ul>
</div>
</div>
<aside class="notes">
<p>So after you read your data into R, once again, first, use the old fashioned method of opening up your data and looking at it to see if everything imported as you expected.</p>
<p>After that, you can start to run some functions to review your data for the following things.</p>
<ol start="3" type="1">
<li><p>Are the values within your expected ranges? What outliers do you see? Is there a lack of variation?</p></li>
<li><p>Consider bivariate plots, is one variable high and the other low - is that normal</p></li>
</ol>
<p>Here are 7 examples</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="summarytoolsdfsummary" class="slide level2">
<h2><code>summarytools::dfSummary()</code></h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Code</a></li><li><a href="#tabset-5-2">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-24_2def976084380109bbf4aa97904ac47b">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb17-2"><a href="#cb17-2"></a></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co"># Review our data</span></span>
<span id="cb17-4"><a href="#cb17-4"></a></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="fu">dfSummary</span>(df_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>Here is an example of exploring our data using the dfSummary() function</p>
<p>So this function provides some overall summary information (number of rows and columns) as well as variable level summary information including variable type, values, frequencies, and histograms.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-5-2">
<p><img data-src="images/exploratory1.PNG" style="width:50.0%"><img data-src="images/exploratory2.PNG" style="width:50.0%;height:90.0%"></p>
</div>
</div>
</div>
</section>
<section id="skimrskim" class="slide level2">
<h2><code>skimr::skim()</code></h2>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Code</a></li><li><a href="#tabset-6-2">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-25_fbbf867405387e65c2671d96f8668f2b">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb18-2"><a href="#cb18-2"></a></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co"># Review our data</span></span>
<span id="cb18-4"><a href="#cb18-4"></a></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">skim</span>(df_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-2">
<p><img data-src="images/skimr.PNG" style="width:90.0%"></p>
</div>
</div>
</div>
<aside class="notes">
<p>Here’s another example of exploring our data, this time using the <code>skim()</code> function</p>
<p>So this function provides similar information to dfSummary, just formatted differently. It also provides some overall data summary information (number of rows and columns) as well as variable level summary information including variable type, completion rate, values, percentiles, and histograms.</p>
<p>But a quick clarification about this function. You’ll notice that it provides a min and max value. This is actually the min and max character count for each variable. So while this may be a little confusing at first, this actually can be really helpful information.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="exercise-7" class="slide level2">
<h2>Exercise</h2>
<p>Use one or more of these exploratory packages to review your data. What fixes do you see that need to happen?</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><code>dplyr::glimpse()</code></li>
<li><code>skimr::skim()</code></li>
<li><code>base::summary()</code></li>
<li><code>visdat:vis_dat()</code></li>
</ul>
</div><div class="column" style="width:40%;">
<ul>
<li><code>summarytools::dfSummary()</code></li>
<li><code>DataExplorer::create_report()</code></li>
<li><code>Hmisc::describe()</code></li>
</ul>
</div>
</div>
<p><br></p>
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/exercises.html#cl2" target="_blank">–&gt; Take me to the exercises &lt;–</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_c968b913" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section></section>
<section>
<section id="stage-1-cleaning" class="title-slide slide level1 center">
<h1>Stage 1 cleaning</h1>

</section>
<section id="variable-names" class="slide level2">
<h2>Variable names</h2>
<p>Original variable names in excel:</p>
<p><img data-src="images/var_names_1.PNG"></p>
<div class="fragment">
<p><br></p>
<p>Variable names import as shown, with modifications from <code>readxl::read_excel()</code> to ensure uniqueness:</p>
<p><img data-src="images/var_names_2.PNG"></p>
</div>
</section>
<section id="variable-names-cleaner" class="slide level2">
<h2>Variable names, cleaner</h2>
<p>Variable names as imported:</p>
<p><img data-src="images/var_names_2.PNG"></p>
<div class="fragment">
<p><br></p>
<p><code>janitor::clean_names()</code> removes special characters and implements snake case by default:</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-29_8904c293767eaf47b0d6ac22f96dcddd">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img data-src="images/var_names_3.PNG"></p>
</div>
</section>
<section id="remove-empty-columns-or-rows" class="slide level2">
<h2>Remove empty columns or rows</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Problem</a></li><li><a href="#tabset-7-2">Solution</a></li><li><a href="#tabset-7-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-30_6dc1793bc9a24f7c16b1db7aaff73bf3">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="fu">select</span>(pat_id, race<span class="sc">:</span>start_bp) <span class="sc">|&gt;</span> </span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">slice</span>(<span class="dv">13</span><span class="sc">:</span><span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  pat_id race             dob                 x7    start_bp
  &lt;chr&gt;  &lt;chr&gt;            &lt;dttm&gt;              &lt;lgl&gt; &lt;chr&gt;   
1 013    Caucasian        1948-02-27 00:00:00 NA    118/73  
2 014    African-American 1966-04-22 00:00:00 NA    106/59  
3 015    H/API            1978-08-11 00:00:00 NA    112/69  
4 &lt;NA&gt;   &lt;NA&gt;             NA                  NA    &lt;NA&gt;    
5 016    African-American 1998-10-28 00:00:00 NA    114/76  
6 017    Caucasian        2001-01-09 00:00:00 NA    124/80  </code></pre>
</div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-31_ef561f9e4c79ddc398e2cc1fd4c512c5">
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-32_9dd440f8627ef6e94ce581f6ac57caf9">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="fu">select</span>(pat_id, race<span class="sc">:</span>start_bp) <span class="sc">|&gt;</span> </span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">slice</span>(<span class="dv">13</span><span class="sc">:</span><span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  pat_id race             dob                 start_bp
  &lt;chr&gt;  &lt;chr&gt;            &lt;dttm&gt;              &lt;chr&gt;   
1 013    Caucasian        1948-02-27 00:00:00 118/73  
2 014    African-American 1966-04-22 00:00:00 106/59  
3 015    H/API            1978-08-11 00:00:00 112/69  
4 016    African-American 1998-10-28 00:00:00 114/76  
5 017    Caucasian        2001-01-09 00:00:00 124/80  
6 018    Caucasian        1994-03-07 00:00:00 120/68  </code></pre>
</div>
</div>
</div>
<div id="tabset-7-3">
<div class="columns">
<div class="column" style="width:35%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-33_5507ce838f641ea8d789c8056216057d">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co">#</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>df_raw <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 31
Columns: 38
$ pat_id                           &lt;chr&gt; "001", "002", "003", "004", "005", "0…
$ treatment                        &lt;chr&gt; "upa", "uste", "oza", "upa", "oza", "…
$ start_date                       &lt;dbl&gt; 44208, 44215, 44230, 44245, 44255, 44…
$ ethnic                           &lt;chr&gt; "hispanic", "not hispanic", "not hisp…
$ race                             &lt;chr&gt; "Caucasian", "Caucasian", "African-Am…
$ dob                              &lt;dttm&gt; 2005-01-07, 1937-04-13, 1946-06-06, …
$ x7                               &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ start_bp                         &lt;chr&gt; "114/72", "132/86", "124/92", "144/83…
$ pre_post_wt_kg                   &lt;chr&gt; "84/82", "77/77", "74/75", "66/65", "…
$ start_mes                        &lt;dbl&gt; 3, 2, 1, 3, 3, 2, 3, 3, 2, 3, 3, 3, 3…
$ start_bss                        &lt;dbl&gt; 75.45589, 53.62239, 25.52527, 79.3659…
$ start_abd_score                  &lt;dbl&gt; 80.59025, 53.64479, 26.15548, 77.9491…
$ start_sys                        &lt;dbl&gt; 81.45415, 52.60911, 27.55523, 79.8218…
$ start_coping                     &lt;dbl&gt; 50.41090, 29.56833, 15.20377, 51.2653…
$ start_emo                        &lt;dbl&gt; 73.32378, 55.72461, 36.56135, 80.7601…
$ daily_life_impact_score_at_start &lt;dbl&gt; 86.88945, 56.10371, 31.38942, 84.8523…
$ start_wbc                        &lt;dbl&gt; 8.2, 10.1, 5.5, 4.7, 8.9, 9.3, 5.6, 9…
$ start_plt                        &lt;chr&gt; "273K/microL", "414K/microL", "323K/m…
$ start_na                         &lt;chr&gt; "137mmol/L", "142mmol/L", "140mmol/L"…
$ start_k                          &lt;chr&gt; "3.7", "4.0999999999999996", "4.3", "…
$ end_month                        &lt;dbl&gt; 6, 6, 7, 7, 7, 8, 8, 8, 8, 8, 9, 9, 9…
$ end_day                          &lt;dbl&gt; 14, 21, 6, 22, 30, 4, 10, 15, 22, 26,…
$ end_year                         &lt;dbl&gt; 2021, 2021, 2021, 2021, 2021, 2021, 2…
$ end_mes                          &lt;dbl&gt; 0, 1, 1, 1, 2, 1, 2, 2, 0, 1, 0, 1, 1…
$ end_bss                          &lt;dbl&gt; 9.455894, 31.622388, 25.525267, 35.36…
$ end_abd                          &lt;dbl&gt; 20.590252, 33.644791, 26.155480, 37.9…
$ end_sys                          &lt;dbl&gt; 9.454153, 28.609114, 27.555232, 31.82…
$ end_coping                       &lt;dbl&gt; 23.41090, 20.56833, 15.20377, 33.2653…
$ end_emo                          &lt;chr&gt; "31.980531232702354", "43.15496159247…
$ end_dl                           &lt;chr&gt; "6.6605585857717573", "30.53917899804…
$ end_wbc                          &lt;dbl&gt; 8.562208, 11.135466, 3.000000, 5.6919…
$ end_plt                          &lt;dbl&gt; 201, 340, 256, 327, 432, 348, 181, 12…
$ end_na                           &lt;dbl&gt; 137.3278, 142.2140, 140.0831, 139.158…
$ end_k                            &lt;dbl&gt; 3.741212, 4.148464, 4.471147, 3.64134…
$ fake_street                      &lt;chr&gt; "990&nbsp;Mohammad&nbsp;Mountain", "8512&nbsp;O'Conn…
$ fake_city                        &lt;chr&gt; "North&nbsp;Sigmundville", "Port&nbsp;Halstad",…
$ fake_state                       &lt;chr&gt; "New&nbsp;Mexico", "Missouri", "South&nbsp;Caro…
$ fake_zip                         &lt;dbl&gt; 96074, 11264, 57246, 31457, 30711, 52…</code></pre>
</div>
</div>
</div><div class="column" style="width:65%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-34_7dc19f0d83d0b61ec779e90bdd030b7d">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>df_raw <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 37
$ pat_id                           &lt;chr&gt; "001", "002", "003", "004", "005", "0…
$ treatment                        &lt;chr&gt; "upa", "uste", "oza", "upa", "oza", "…
$ start_date                       &lt;dbl&gt; 44208, 44215, 44230, 44245, 44255, 44…
$ ethnic                           &lt;chr&gt; "hispanic", "not hispanic", "not hisp…
$ race                             &lt;chr&gt; "Caucasian", "Caucasian", "African-Am…
$ dob                              &lt;dttm&gt; 2005-01-07, 1937-04-13, 1946-06-06, …
$ start_bp                         &lt;chr&gt; "114/72", "132/86", "124/92", "144/83…
$ pre_post_wt_kg                   &lt;chr&gt; "84/82", "77/77", "74/75", "66/65", "…
$ start_mes                        &lt;dbl&gt; 3, 2, 1, 3, 3, 2, 3, 3, 2, 3, 3, 3, 3…
$ start_bss                        &lt;dbl&gt; 75.45589, 53.62239, 25.52527, 79.3659…
$ start_abd_score                  &lt;dbl&gt; 80.59025, 53.64479, 26.15548, 77.9491…
$ start_sys                        &lt;dbl&gt; 81.45415, 52.60911, 27.55523, 79.8218…
$ start_coping                     &lt;dbl&gt; 50.41090, 29.56833, 15.20377, 51.2653…
$ start_emo                        &lt;dbl&gt; 73.32378, 55.72461, 36.56135, 80.7601…
$ daily_life_impact_score_at_start &lt;dbl&gt; 86.88945, 56.10371, 31.38942, 84.8523…
$ start_wbc                        &lt;dbl&gt; 8.2, 10.1, 5.5, 4.7, 8.9, 9.3, 5.6, 9…
$ start_plt                        &lt;chr&gt; "273K/microL", "414K/microL", "323K/m…
$ start_na                         &lt;chr&gt; "137mmol/L", "142mmol/L", "140mmol/L"…
$ start_k                          &lt;chr&gt; "3.7", "4.0999999999999996", "4.3", "…
$ end_month                        &lt;dbl&gt; 6, 6, 7, 7, 7, 8, 8, 8, 8, 8, 9, 9, 9…
$ end_day                          &lt;dbl&gt; 14, 21, 6, 22, 30, 4, 10, 15, 22, 26,…
$ end_year                         &lt;dbl&gt; 2021, 2021, 2021, 2021, 2021, 2021, 2…
$ end_mes                          &lt;dbl&gt; 0, 1, 1, 1, 2, 1, 2, 2, 0, 1, 0, 1, 1…
$ end_bss                          &lt;dbl&gt; 9.455894, 31.622388, 25.525267, 35.36…
$ end_abd                          &lt;dbl&gt; 20.590252, 33.644791, 26.155480, 37.9…
$ end_sys                          &lt;dbl&gt; 9.454153, 28.609114, 27.555232, 31.82…
$ end_coping                       &lt;dbl&gt; 23.41090, 20.56833, 15.20377, 33.2653…
$ end_emo                          &lt;chr&gt; "31.980531232702354", "43.15496159247…
$ end_dl                           &lt;chr&gt; "6.6605585857717573", "30.53917899804…
$ end_wbc                          &lt;dbl&gt; 8.562208, 11.135466, 3.000000, 5.6919…
$ end_plt                          &lt;dbl&gt; 201, 340, 256, 327, 432, 348, 181, 12…
$ end_na                           &lt;dbl&gt; 137.3278, 142.2140, 140.0831, 139.158…
$ end_k                            &lt;dbl&gt; 3.741212, 4.148464, 4.471147, 3.64134…
$ fake_street                      &lt;chr&gt; "990&nbsp;Mohammad&nbsp;Mountain", "8512&nbsp;O'Conn…
$ fake_city                        &lt;chr&gt; "North&nbsp;Sigmundville", "Port&nbsp;Halstad",…
$ fake_state                       &lt;chr&gt; "New&nbsp;Mexico", "Missouri", "South&nbsp;Caro…
$ fake_zip                         &lt;dbl&gt; 96074, 11264, 57246, 31457, 30711, 52…</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="recoding" class="slide level2">
<h2>Recoding</h2>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Problem</a></li><li><a href="#tabset-8-2">Solution</a></li><li><a href="#tabset-8-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-35_f7312c46af93a4750de98adc272f9407">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="fu">count</span>(ethnic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  ethnic           n
  &lt;chr&gt;        &lt;int&gt;
1 Hispanic         1
2 NOT hispanic     1
3 hispamnic        1
4 hispanic         3
5 not hispanic    24</code></pre>
</div>
</div>
</div>
<div id="tabset-8-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-36_7677abee3cccb2c4afcd4efb6ef2cbcc">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="4-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb31-3"><a href="#cb31-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb31-4"><a href="#cb31-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-5"><a href="#cb31-5"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb31-6"><a href="#cb31-6"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb31-7"><a href="#cb31-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb31-8"><a href="#cb31-8"></a>    )</span>
<span id="cb31-9"><a href="#cb31-9"></a>  )</span>
<span id="cb31-10"><a href="#cb31-10"></a></span>
<span id="cb31-11"><a href="#cb31-11"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb31-12"><a href="#cb31-12"></a>  <span class="fu">count</span>(ethnic_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  ethnic_clean     n
  &lt;chr&gt;        &lt;int&gt;
1 hispanic         5
2 not hispanic    25</code></pre>
</div>
</div>
</div>
<div id="tabset-8-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-37_d80b4a28d83382d334a5b37e3dcf2b3f">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">count</span>(ethnic_clean, ethnic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  ethnic_clean ethnic           n
  &lt;chr&gt;        &lt;chr&gt;        &lt;int&gt;
1 hispanic     Hispanic         1
2 hispanic     hispamnic        1
3 hispanic     hispanic         3
4 not hispanic NOT hispanic     1
5 not hispanic not hispanic    24</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-8" class="slide level2">
<h2>Exercise</h2>
<p><br></p>
<p>Complete Data Cleaning Fundamentals Exercise SP1.</p>
<p><br></p>
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/exercises.html" target="_blank">–&gt; Take me to the exercises &lt;–</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_d62b1772" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:4em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="replace-values-with-missing" class="slide level2">
<h2>Replace values with missing</h2>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Problem</a></li><li><a href="#tabset-9-2">Solution</a></li><li><a href="#tabset-9-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-39_5ec4799833346223e8c421dcaa328555">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">count</span>(end_na) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 2
   end_na     n
    &lt;dbl&gt; &lt;int&gt;
 1   -99      1
 2   133.     1
 3   135.     1
 4   135.     1
 5   136.     1
 6   137.     1
 7   137.     1
 8   138.     1
 9   138.     1
10   138.     1
# ℹ 20 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-40_a8b1835af77196fa89f394f0d7c2a2e0">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> end_na)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-40-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-9-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-41_c14fbfcebb530273ce7c8efe4659085a">
<div class="sourceCode cell-code" id="cb38" data-code-line-numbers="9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb38-4"><a href="#cb38-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-5"><a href="#cb38-5"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb38-6"><a href="#cb38-6"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb38-7"><a href="#cb38-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb38-8"><a href="#cb38-8"></a>    ),</span>
<span id="cb38-9"><a href="#cb38-9"></a>    <span class="at">end_na_clean =</span> <span class="fu">na_if</span>(end_na, <span class="sc">-</span><span class="dv">99</span>)</span>
<span id="cb38-10"><a href="#cb38-10"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-9-3">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-42_927aad43b3a8f97340b2b226e0a7aa76">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">count</span>(end_na, end_na_clean) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 3
   end_na end_na_clean     n
    &lt;dbl&gt;        &lt;dbl&gt; &lt;int&gt;
 1   -99           NA      1
 2   133.         133.     1
 3   135.         135.     1
 4   135.         135.     1
 5   136.         136.     1
 6   137.         137.     1
 7   137.         137.     1
 8   138.         138.     1
 9   138.         138.     1
10   138.         138.     1
# ℹ 20 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-43_5821cccdc4f9dbac8d0d0819d008f318">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> end_na_clean)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-43-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="incorrect-variable-type" class="slide level2">
<h2>Incorrect variable type</h2>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Problem</a></li><li><a href="#tabset-10-2">Solution</a></li><li><a href="#tabset-10-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-44_09583c812add75b2273eae9dca6e57c5">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>df_raw <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="fu">select</span>(end_emo) <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 31
Columns: 1
$ end_emo &lt;chr&gt; "31.980531232702354", "43.154961592472482", "36.88112394645107…</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-45_b4b515166db9e0d7e7b7e21c7a324e56">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">mean</span>(df_raw[[<span class="st">"end_emo"</span>]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in mean.default(df_raw[["end_emo"]], na.rm = TRUE): argument is not
numeric or logical: returning NA</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-46_4f2a27bf935c47a8ac60d880c817c202">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>df_raw[[<span class="st">"end_emo"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "31.980531232702354" "43.154961592472482" "36.881123946451076"
 [4] "58.670309483569042" "58.863864661125419" "34.593046073414015"
 [7] "63.285059520403976" "65.313599031979081" "27.976656095216335"
[10] "46.802992507671597" "33.122563864954309" "49.240520034972612"
[13] "47.050604139781761" "54.487640962873577" "not done"          
[16] NA                   "49.084529664712441" "27.370965295845295"
[19] "60.432712720552317" "26.162987564588903" "48.329539382030802"
[22] "40.735196376550661" "27.000188739872502" "57.019771433515629"
[25] "39.783229029414606" "52.110256961065794" "37.098188331548307"
[28] "39.264033750725694" "70.34798440037369"  "29.839211956263874"
[31] "42.853436653960713"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-10-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-47_15fd71b273c51ae47748be8007637740">
<div class="sourceCode cell-code" id="cb49" data-code-line-numbers="10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb49-3"><a href="#cb49-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb49-4"><a href="#cb49-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-5"><a href="#cb49-5"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb49-6"><a href="#cb49-6"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb49-7"><a href="#cb49-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb49-8"><a href="#cb49-8"></a>    ),</span>
<span id="cb49-9"><a href="#cb49-9"></a>    <span class="at">end_na_clean =</span> <span class="fu">na_if</span>(end_na, <span class="sc">-</span><span class="dv">99</span>),</span>
<span id="cb49-10"><a href="#cb49-10"></a>    <span class="at">end_emo_clean =</span> <span class="fu">na_if</span>(end_emo, <span class="st">"not done"</span>) <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>()</span>
<span id="cb49-11"><a href="#cb49-11"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-3">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-48_649dfca87ed85a78e971a0ff90167e86">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2"></a>  <span class="fu">select</span>(end_emo_clean) <span class="sc">|&gt;</span> </span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 1
$ end_emo_clean &lt;dbl&gt; 31.98053, 43.15496, 36.88112, 58.67031, 58.86386, 34.593…</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-49_95dfd0cfe73b294c47405445541d4f0f">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">mean</span>(df_clean[[<span class="st">"end_emo_clean"</span>]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 44.78813</code></pre>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-50_7ce910cd3ba8b38cce38dd7bad5f3571">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="fu">count</span>(end_emo_clean, end_emo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 3
   end_emo_clean end_emo                n
           &lt;dbl&gt; &lt;chr&gt;              &lt;int&gt;
 1          26.2 26.162987564588903     1
 2          27.0 27.000188739872502     1
 3          27.4 27.370965295845295     1
 4          28.0 27.976656095216335     1
 5          29.8 29.839211956263874     1
 6          32.0 31.980531232702354     1
 7          33.1 33.122563864954309     1
 8          34.6 34.593046073414015     1
 9          36.9 36.881123946451076     1
10          37.1 37.098188331548307     1
# ℹ 20 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="correcting-dates" class="slide level2">
<h2>Correcting dates</h2>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1">Problem</a></li><li><a href="#tabset-11-2">Solution</a></li><li><a href="#tabset-11-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-51_0a26e6fc3a85fe09bb2381bef52df887">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>df_raw <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a href="#cb56-2"></a>  <span class="fu">select</span>(start_date) <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 31
Columns: 1
$ start_date &lt;dbl&gt; 44208, 44215, 44230, 44245, 44255, 44259, 44264, 44999, 442…</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-52_354628d7840c95dd05cccc9b8fd2e6e4">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>df_raw[[<span class="st">"start_date"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 44208 44215 44230 44245 44255 44259 44264 44999 44276 44278 44297 44308
[13] 44313 44318 44324    NA 44329 44332 44346 44358 44370 44383 44391 44397
[25] 44412 44425 44434 44444 44461 44475 44500</code></pre>
</div>
</div>
</div>
</div>
<div id="tabset-11-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-53_101e48483c35132642f9b20e508aacf1">
<div class="sourceCode cell-code" id="cb60" data-code-line-numbers="11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb60-4"><a href="#cb60-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-5"><a href="#cb60-5"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb60-6"><a href="#cb60-6"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb60-7"><a href="#cb60-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb60-8"><a href="#cb60-8"></a>    ),</span>
<span id="cb60-9"><a href="#cb60-9"></a>    <span class="at">end_na_clean =</span> <span class="fu">na_if</span>(end_na, <span class="sc">-</span><span class="dv">99</span>),</span>
<span id="cb60-10"><a href="#cb60-10"></a>    <span class="at">end_emo_clean =</span> <span class="fu">na_if</span>(end_emo, <span class="st">"not done"</span>) <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>(),</span>
<span id="cb60-11"><a href="#cb60-11"></a>    <span class="at">start_date_clean =</span> janitor<span class="sc">::</span><span class="fu">convert_to_date</span>(start_date)</span>
<span id="cb60-12"><a href="#cb60-12"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-11-3">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-54_e2d5c0cefe8e804ab84199b44baeafe5">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2"></a>  <span class="fu">select</span>(start_date, start_date_clean) <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 2
$ start_date       &lt;dbl&gt; 44208, 44215, 44230, 44245, 44255, 44259, 44264, 4499…
$ start_date_clean &lt;date&gt; 2021-01-12, 2021-01-19, 2021-02-03, 2021-02-18, 2021…</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-55_9b80f23c688856d29a05d920d9a2e265">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">count</span>(start_date, start_date_clean) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 3
   start_date start_date_clean     n
        &lt;dbl&gt; &lt;date&gt;           &lt;int&gt;
 1      44208 2021-01-12           1
 2      44215 2021-01-19           1
 3      44230 2021-02-03           1
 4      44245 2021-02-18           1
 5      44255 2021-02-28           1
 6      44259 2021-03-04           1
 7      44264 2021-03-09           1
 8      44276 2021-03-21           1
 9      44278 2021-03-23           1
10      44297 2021-04-11           1
# ℹ 20 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="extracting-numbers-from-text" class="slide level2">
<h2>Extracting numbers from text</h2>
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1">Problem</a></li><li><a href="#tabset-12-2">Solution</a></li><li><a href="#tabset-12-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-56_e1e8a0488741bb02c743be24ac8fd9a2">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>df_raw <span class="sc">|&gt;</span> </span>
<span id="cb65-2"><a href="#cb65-2"></a>  <span class="fu">select</span>(start_na) <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 31
Columns: 1
$ start_na &lt;chr&gt; "137mmol/L", "142mmol/L", "140mmol/L", "139mmol/L", "144mmol/…</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-57_787670ed4aa97171f77a91a05935082d">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">mean</span>(df_raw[[<span class="st">"start_na"</span>]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in mean.default(df_raw[["start_na"]], na.rm = TRUE): argument is not
numeric or logical: returning NA</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-58_10a0ace0478c204fea6e283ad0e1ca21">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>df_raw[[<span class="st">"start_na"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "137mmol/L" "142mmol/L" "140mmol/L" "139mmol/L" "144mmol/L" "145mmol/L"
 [7] "142mmol/L" "138mmol/L" "140mmol/L" "137mmol/L" "143mmol/L" "136mmol/L"
[13] "135mmol/L" "141mmol/L" "133mmol/L" NA          "135mmol/L" "143mmol/L"
[19] "136mmol/L" "144mmol/L" "145mmol/L" "140mmol/L" "141mmol/L" "142mmol/L"
[25] "138mmol/L" "139mmol/L" "142mmol/L" "144mmol/L" "139mmol/L" "138mmol/L"
[31] "140mmol/L"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-12-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-59_b7b522bdaa78bff6e37c33620d077b34">
<div class="sourceCode cell-code" id="cb72" data-code-line-numbers="11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb72-3"><a href="#cb72-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb72-4"><a href="#cb72-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb72-5"><a href="#cb72-5"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb72-6"><a href="#cb72-6"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb72-7"><a href="#cb72-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb72-8"><a href="#cb72-8"></a>    ),</span>
<span id="cb72-9"><a href="#cb72-9"></a>    <span class="at">end_na_clean =</span> <span class="fu">na_if</span>(end_na, <span class="sc">-</span><span class="dv">99</span>),</span>
<span id="cb72-10"><a href="#cb72-10"></a>    <span class="at">end_emo_clean =</span> <span class="fu">na_if</span>(end_emo, <span class="st">"not done"</span>) <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>(),</span>
<span id="cb72-11"><a href="#cb72-11"></a>    <span class="at">start_na_clean =</span> <span class="fu">parse_number</span>(start_na)</span>
<span id="cb72-12"><a href="#cb72-12"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-12-3">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-60_84c1eb9dfaa99bde25956b5d763b8392">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2"></a>  <span class="fu">select</span>(start_na_clean) <span class="sc">|&gt;</span> </span>
<span id="cb73-3"><a href="#cb73-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 1
$ start_na_clean &lt;dbl&gt; 137, 142, 140, 139, 144, 145, 142, 138, 140, 137, 143, …</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-61_1b70105fd5d1deb9fccf9dc923577b94">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="fu">mean</span>(df_clean[[<span class="st">"start_na_clean"</span>]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 139.9333</code></pre>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-62_c355aca12ea3130284b0eb409a2b7cde">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb77-2"><a href="#cb77-2"></a>  <span class="fu">count</span>(start_na_clean, start_na)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   start_na_clean start_na      n
            &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt;
 1            133 133mmol/L     1
 2            135 135mmol/L     2
 3            136 136mmol/L     2
 4            137 137mmol/L     2
 5            138 138mmol/L     3
 6            139 139mmol/L     3
 7            140 140mmol/L     4
 8            141 141mmol/L     2
 9            142 142mmol/L     4
10            143 143mmol/L     2
11            144 144mmol/L     3
12            145 145mmol/L     2</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-9" class="slide level2">
<h2>Exercise</h2>
<p><br></p>
<p>Complete Data Cleaning Fundamentals Exercise SP2.</p>
<p><br></p>
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/exercises.html" target="_blank">–&gt; Take me to the exercises &lt;–</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_1503f3b7" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:4em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="character-variable-should-be-a-factor" class="slide level2">
<h2>Character variable should be a factor</h2>
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-13-1">Problem</a></li><li><a href="#tabset-13-2">Solution</a></li><li><a href="#tabset-13-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1">
<div class="columns">
<div class="column" style="width:35%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-64_bb3bdd257d56369f038288007698b2cd">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb79-2"><a href="#cb79-2"></a>  <span class="fu">count</span>(treatment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  treatment     n
  &lt;chr&gt;     &lt;int&gt;
1 oza          10
2 upa          10
3 uste         10</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-65_cd0528ede3b2b2e91e6253d2e7e75657">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb81-2"><a href="#cb81-2"></a>  <span class="fu">count</span>(ethnic_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  ethnic_clean     n
  &lt;chr&gt;        &lt;int&gt;
1 hispanic         5
2 not hispanic    25</code></pre>
</div>
</div>
</div>
</div><div class="column fragment" style="width:65%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-66_1b7460c9b837bd59ddda8eb265db8bad">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb83-2"><a href="#cb83-2"></a>  <span class="fu">select</span>(treatment, ethnic_clean) <span class="sc">|&gt;</span> </span>
<span id="cb83-3"><a href="#cb83-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 2
$ treatment    &lt;chr&gt; "upa", "uste", "oza", "upa", "oza", "uste", "uste", "oza"…
$ ethnic_clean &lt;chr&gt; "hispanic", "not hispanic", "not hispanic", "not hispanic…</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-67_e4d8f5d4835614b96f72a8114a7fd498">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb85-2"><a href="#cb85-2"></a>  <span class="fu">select</span>(treatment, ethnic_clean) <span class="sc">|&gt;</span> </span>
<span id="cb85-3"><a href="#cb85-3"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> treatment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="xnypocpqbx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xnypocpqbx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xnypocpqbx thead, #xnypocpqbx tbody, #xnypocpqbx tfoot, #xnypocpqbx tr, #xnypocpqbx td, #xnypocpqbx th {
  border-style: none;
}

#xnypocpqbx p {
  margin: 0;
  padding: 0;
}

#xnypocpqbx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xnypocpqbx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xnypocpqbx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xnypocpqbx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xnypocpqbx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xnypocpqbx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xnypocpqbx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xnypocpqbx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xnypocpqbx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xnypocpqbx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xnypocpqbx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xnypocpqbx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xnypocpqbx .gt_spanner_row {
  border-bottom-style: hidden;
}

#xnypocpqbx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xnypocpqbx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xnypocpqbx .gt_from_md > :first-child {
  margin-top: 0;
}

#xnypocpqbx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xnypocpqbx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xnypocpqbx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xnypocpqbx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xnypocpqbx .gt_row_group_first td {
  border-top-width: 2px;
}

#xnypocpqbx .gt_row_group_first th {
  border-top-width: 2px;
}

#xnypocpqbx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xnypocpqbx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xnypocpqbx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xnypocpqbx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xnypocpqbx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xnypocpqbx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xnypocpqbx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xnypocpqbx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xnypocpqbx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xnypocpqbx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xnypocpqbx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xnypocpqbx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xnypocpqbx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xnypocpqbx .gt_left {
  text-align: left;
}

#xnypocpqbx .gt_center {
  text-align: center;
}

#xnypocpqbx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xnypocpqbx .gt_font_normal {
  font-weight: normal;
}

#xnypocpqbx .gt_font_bold {
  font-weight: bold;
}

#xnypocpqbx .gt_font_italic {
  font-style: italic;
}

#xnypocpqbx .gt_super {
  font-size: 65%;
}

#xnypocpqbx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xnypocpqbx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xnypocpqbx .gt_indent_1 {
  text-indent: 5px;
}

#xnypocpqbx .gt_indent_2 {
  text-indent: 10px;
}

#xnypocpqbx .gt_indent_3 {
  text-indent: 15px;
}

#xnypocpqbx .gt_indent_4 {
  text-indent: 20px;
}

#xnypocpqbx .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>oza</strong>, N = 10<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>oza</strong>, N = 10<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>upa</strong>, N = 10<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>upa</strong>, N = 10<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>uste</strong>, N = 10<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>uste</strong>, N = 10<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">ethnic_clean</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="stat_3" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;hispanic</td>
<td headers="stat_1" class="gt_row gt_center">4 (40%)</td>
<td headers="stat_2" class="gt_row gt_center">1 (10%)</td>
<td headers="stat_3" class="gt_row gt_center">0 (0%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;not hispanic</td>
<td headers="stat_1" class="gt_row gt_center">6 (60%)</td>
<td headers="stat_2" class="gt_row gt_center">9 (90%)</td>
<td headers="stat_3" class="gt_row gt_center">10 (100%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-13-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-68_8da864af2cc1e8ea3c26d2700403d1f3">
<div class="sourceCode cell-code" id="cb86" data-code-line-numbers="8,12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb86-2"><a href="#cb86-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb86-3"><a href="#cb86-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb86-4"><a href="#cb86-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb86-5"><a href="#cb86-5"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb86-6"><a href="#cb86-6"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb86-7"><a href="#cb86-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb86-8"><a href="#cb86-8"></a>    ) <span class="sc">|&gt;</span> <span class="fu">fct_infreq</span>(),</span>
<span id="cb86-9"><a href="#cb86-9"></a>    <span class="at">end_na_clean =</span> <span class="fu">na_if</span>(end_na, <span class="sc">-</span><span class="dv">99</span>),</span>
<span id="cb86-10"><a href="#cb86-10"></a>    <span class="at">end_emo_clean =</span> <span class="fu">na_if</span>(end_emo, <span class="st">"not done"</span>) <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>(),</span>
<span id="cb86-11"><a href="#cb86-11"></a>    <span class="at">start_na_clean =</span> <span class="fu">parse_number</span>(start_na),</span>
<span id="cb86-12"><a href="#cb86-12"></a>    <span class="at">treatment =</span> <span class="fu">fct_relevel</span>(treatment, <span class="st">"upa"</span>, <span class="st">"uste"</span>, <span class="st">"oza"</span>)</span>
<span id="cb86-13"><a href="#cb86-13"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>See the <a href="https://forcats.tidyverse.org/">forcats package</a> for other factor handling solutions.</p>
</div>
<div id="tabset-13-3">
<div class="columns">
<div class="column" style="width:35%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-69_b31409f18bae0d18a46421f52edbcf24">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb87-2"><a href="#cb87-2"></a>  <span class="fu">count</span>(treatment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  treatment     n
  &lt;fct&gt;     &lt;int&gt;
1 upa          10
2 uste         10
3 oza          10</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-70_8f1959a699aa730f18c14aea7ad0a81b">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb89-2"><a href="#cb89-2"></a>  <span class="fu">count</span>(ethnic_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  ethnic_clean     n
  &lt;fct&gt;        &lt;int&gt;
1 not hispanic    25
2 hispanic         5</code></pre>
</div>
</div>
</div>
</div><div class="column fragment" style="width:65%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-71_236678f72c3638256b515c1486f3f0ca">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb91-2"><a href="#cb91-2"></a>  <span class="fu">select</span>(treatment, ethnic_clean) <span class="sc">|&gt;</span> </span>
<span id="cb91-3"><a href="#cb91-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 2
$ treatment    &lt;fct&gt; upa, uste, oza, upa, oza, uste, uste, oza, upa, oza, upa,…
$ ethnic_clean &lt;fct&gt; hispanic, not hispanic, not hispanic, not hispanic, not h…</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-72_5990afea6ac5e7a44b2bbebf01ffca50">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb93-2"><a href="#cb93-2"></a>  <span class="fu">select</span>(treatment, ethnic_clean) <span class="sc">|&gt;</span> </span>
<span id="cb93-3"><a href="#cb93-3"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> treatment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="yzjuixmtlj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yzjuixmtlj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yzjuixmtlj thead, #yzjuixmtlj tbody, #yzjuixmtlj tfoot, #yzjuixmtlj tr, #yzjuixmtlj td, #yzjuixmtlj th {
  border-style: none;
}

#yzjuixmtlj p {
  margin: 0;
  padding: 0;
}

#yzjuixmtlj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yzjuixmtlj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yzjuixmtlj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yzjuixmtlj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yzjuixmtlj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yzjuixmtlj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yzjuixmtlj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yzjuixmtlj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yzjuixmtlj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yzjuixmtlj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yzjuixmtlj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yzjuixmtlj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yzjuixmtlj .gt_spanner_row {
  border-bottom-style: hidden;
}

#yzjuixmtlj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yzjuixmtlj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yzjuixmtlj .gt_from_md > :first-child {
  margin-top: 0;
}

#yzjuixmtlj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yzjuixmtlj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yzjuixmtlj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yzjuixmtlj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yzjuixmtlj .gt_row_group_first td {
  border-top-width: 2px;
}

#yzjuixmtlj .gt_row_group_first th {
  border-top-width: 2px;
}

#yzjuixmtlj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yzjuixmtlj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yzjuixmtlj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yzjuixmtlj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yzjuixmtlj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yzjuixmtlj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yzjuixmtlj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yzjuixmtlj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yzjuixmtlj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yzjuixmtlj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yzjuixmtlj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yzjuixmtlj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yzjuixmtlj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yzjuixmtlj .gt_left {
  text-align: left;
}

#yzjuixmtlj .gt_center {
  text-align: center;
}

#yzjuixmtlj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yzjuixmtlj .gt_font_normal {
  font-weight: normal;
}

#yzjuixmtlj .gt_font_bold {
  font-weight: bold;
}

#yzjuixmtlj .gt_font_italic {
  font-style: italic;
}

#yzjuixmtlj .gt_super {
  font-size: 65%;
}

#yzjuixmtlj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yzjuixmtlj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yzjuixmtlj .gt_indent_1 {
  text-indent: 5px;
}

#yzjuixmtlj .gt_indent_2 {
  text-indent: 10px;
}

#yzjuixmtlj .gt_indent_3 {
  text-indent: 15px;
}

#yzjuixmtlj .gt_indent_4 {
  text-indent: 20px;
}

#yzjuixmtlj .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>upa</strong>, N = 10<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>upa</strong>, N = 10<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>uste</strong>, N = 10<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>uste</strong>, N = 10<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>oza</strong>, N = 10<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>oza</strong>, N = 10<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">ethnic_clean</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="stat_3" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;not hispanic</td>
<td headers="stat_1" class="gt_row gt_center">9 (90%)</td>
<td headers="stat_2" class="gt_row gt_center">10 (100%)</td>
<td headers="stat_3" class="gt_row gt_center">6 (60%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;hispanic</td>
<td headers="stat_1" class="gt_row gt_center">1 (10%)</td>
<td headers="stat_2" class="gt_row gt_center">0 (0%)</td>
<td headers="stat_3" class="gt_row gt_center">4 (40%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-10" class="slide level2">
<h2>Exercise</h2>
<p><br></p>
<p>Complete Data Cleaning Fundamentals Exercise SP3.</p>
<p><br></p>
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/exercises.html" target="_blank">–&gt; Take me to the exercises &lt;–</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_678d0bd7" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:4em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="separating-values" class="slide level2">
<h2>Separating values</h2>
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-14-1">Problem</a></li><li><a href="#tabset-14-2">Solution</a></li><li><a href="#tabset-14-3">Confirm</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-74_30ba3d598ec230cae18962c82daf5341">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb94-2"><a href="#cb94-2"></a>  <span class="fu">select</span>(start_bp) <span class="sc">|&gt;</span> </span>
<span id="cb94-3"><a href="#cb94-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 1
$ start_bp &lt;chr&gt; "114/72", "132/86", "124/92", "144/83", "122/78", "121/80", "…</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-75_8b47888465512454f30d2975d91f871b">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a><span class="fu">mean</span>(df_clean[[<span class="st">"start_bp"</span>]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-76_30fb4a80f32854875c87914a79b36f03">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a>df_clean[[<span class="st">"start_bp"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "114/72" "132/86" "124/92" "144/83" "122/78" "121/80" "133/74" "116/73"
 [9] "118/66" "122/78" "126/82" "114/68" "118/73" "106/59" "112/69" "114/76"
[17] "124/80" "120/68" "119/77" "116/74" "121/80" "112/58" "117/67" "118/73"
[25] "116/74" "126/84" "144/96" "120/84" "115/75" "142/92"</code></pre>
</div>
</div>
</div>
</div>
<div id="tabset-14-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-77_9c2fdac371cd7d44cac265f09e8c6ca8">
<div class="sourceCode cell-code" id="cb100" data-code-line-numbers="14,15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb100-2"><a href="#cb100-2"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb100-3"><a href="#cb100-3"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb100-4"><a href="#cb100-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb100-5"><a href="#cb100-5"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb100-6"><a href="#cb100-6"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb100-7"><a href="#cb100-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb100-8"><a href="#cb100-8"></a>    ) <span class="sc">|&gt;</span> <span class="fu">fct_infreq</span>(),</span>
<span id="cb100-9"><a href="#cb100-9"></a>    <span class="at">end_na_clean =</span> <span class="fu">na_if</span>(end_na, <span class="sc">-</span><span class="dv">99</span>),</span>
<span id="cb100-10"><a href="#cb100-10"></a>    <span class="at">end_emo_clean =</span> <span class="fu">na_if</span>(end_emo, <span class="st">"not done"</span>) <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>(),</span>
<span id="cb100-11"><a href="#cb100-11"></a>    <span class="at">start_na_clean =</span> <span class="fu">parse_number</span>(start_na),</span>
<span id="cb100-12"><a href="#cb100-12"></a>    <span class="at">treatment =</span> <span class="fu">fct_relevel</span>(treatment, <span class="st">"upa"</span>, <span class="st">"uste"</span>, <span class="st">"oza"</span>)</span>
<span id="cb100-13"><a href="#cb100-13"></a>    ) <span class="sc">|&gt;</span>  </span>
<span id="cb100-14"><a href="#cb100-14"></a>  <span class="fu">separate_wider_delim</span>(start_bp, <span class="at">delim =</span><span class="st">"/"</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"bp_systolic"</span>, <span class="st">"bp_diastolic"</span>), <span class="at">cols_remove =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb100-15"><a href="#cb100-15"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(bp_systolic, bp_diastolic), as.numeric)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-14-3">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-78_1571eacce20289328d51baca7474ab6f">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>df_clean <span class="sc">|&gt;</span> </span>
<span id="cb101-2"><a href="#cb101-2"></a>  <span class="fu">select</span>(start_bp, bp_systolic, bp_diastolic) <span class="sc">|&gt;</span> </span>
<span id="cb101-3"><a href="#cb101-3"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 3
$ start_bp     &lt;chr&gt; "114/72", "132/86", "124/92", "144/83", "122/78", "121/80…
$ bp_systolic  &lt;dbl&gt; 114, 132, 124, 144, 122, 121, 133, 116, 118, 122, 126, 11…
$ bp_diastolic &lt;dbl&gt; 72, 86, 92, 83, 78, 80, 74, 73, 66, 78, 82, 68, 73, 59, 6…</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-79_aab6efb556a61600df25905f466947f6">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a><span class="fu">mean</span>(df_clean[[<span class="st">"bp_systolic"</span>]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 121.5333</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">mean</span>(df_clean[[<span class="st">"bp_diastolic"</span>]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 76.36667</code></pre>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-80_af8a437ada97702ea5e38c0b4378799e">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>df_clean[[<span class="st">"bp_systolic"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 114 132 124 144 122 121 133 116 118 122 126 114 118 106 112 114 124 120 119
[20] 116 121 112 117 118 116 126 144 120 115 142</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a>df_clean[[<span class="st">"bp_diastolic"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 72 86 92 83 78 80 74 73 66 78 82 68 73 59 69 76 80 68 77 74 80 58 67 73 74
[26] 84 96 84 75 92</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="assigning-labels" class="slide level2">
<h2>Assigning labels</h2>
<div class="panel-tabset">
<ul id="tabset-15" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-15-1">Problem</a></li><li><a href="#tabset-15-2">Solution 1</a></li><li><a href="#tabset-15-3">Solution 2</a></li><li><a href="#tabset-15-4">Solution 3</a></li><li><a href="#tabset-15-5">Confirm 1</a></li><li><a href="#tabset-15-6">Confirm 2</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1">
<p>What does anything mean?</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-81_a2d908c1d9d69ef1b97978842490da76">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a><span class="fu">view</span>(df_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><img data-src="images/df_nolabels.PNG"></p>
</div>
<div id="tabset-15-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-82_e041c3728e8467c0e961487b5a2696f2">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="co"># first import codebook</span></span>
<span id="cb112-2"><a href="#cb112-2"></a>df_codebook <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(</span>
<span id="cb112-3"><a href="#cb112-3"></a>  <span class="at">path =</span> <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"messy_uc.xlsx"</span>),</span>
<span id="cb112-4"><a href="#cb112-4"></a>  <span class="at">sheet =</span> <span class="st">"Codebook"</span></span>
<span id="cb112-5"><a href="#cb112-5"></a>)</span>
<span id="cb112-6"><a href="#cb112-6"></a>df_codebook</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 33 × 5
   Variable       Details                                      Units Range ...5 
   &lt;chr&gt;          &lt;chr&gt;                                        &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
 1 pat_id         Patient Identifier                           digi… 001-… &lt;NA&gt; 
 2 treatment      Treatment for UC                             &lt;NA&gt;  upad… &lt;NA&gt; 
 3 start_date     Date of start of treatment                   digi… YYYY… &lt;NA&gt; 
 4 ethnic         Ethnicity - hispanic or not hispanic         &lt;NA&gt;  hisp… &lt;NA&gt; 
 5 race           Race - one of 7 choices                      &lt;NA&gt;  cauc… &lt;NA&gt; 
 6 dob            date of birth                                digi… YYYY… &lt;NA&gt; 
 7 start_bp       blood pressure at start - systolic/diastolic mm Hg syst… &lt;NA&gt; 
 8 pre/post_wt_kg weight in kilograms at start/end             kilo… 48-1… &lt;NA&gt; 
 9 start_mes      Mayo endoscopic Score at start of treatment  poin… 0-3   &lt;NA&gt; 
10 start_bss      Bowel symptom score at start                 poin… 0-100 QOL …
# ℹ 23 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-15-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-83_0db21de9830d9ceb0606850157d85688">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a><span class="co"># second create a named vector of variable names and variable labels</span></span>
<span id="cb114-2"><a href="#cb114-2"></a>vec_variables <span class="ot">&lt;-</span> df_codebook <span class="sc">|&gt;</span> </span>
<span id="cb114-3"><a href="#cb114-3"></a>  <span class="fu">select</span>(Variable, Details) <span class="sc">|&gt;</span> </span>
<span id="cb114-4"><a href="#cb114-4"></a>  <span class="fu">deframe</span>()</span>
<span id="cb114-5"><a href="#cb114-5"></a></span>
<span id="cb114-6"><a href="#cb114-6"></a>vec_variables</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                        pat_id 
                          "Patient Identifier" 
                                     treatment 
                            "Treatment for UC" 
                                    start_date 
                  "Date of start of treatment" 
                                        ethnic 
        "Ethnicity - hispanic or not hispanic" 
                                          race 
                     "Race - one of 7 choices" 
                                           dob 
                               "date of birth" 
                                      start_bp 
"blood pressure at start - systolic/diastolic" 
                                pre/post_wt_kg 
            "weight in kilograms at start/end" 
                                     start_mes 
 "Mayo endoscopic Score at start of treatment" 
                                     start_bss 
                "Bowel symptom score at start" 
                                     start_abd 
            "Abdominal symptom score at start" 
                                     start_sys 
             "Systemic symptom score at start" 
                                  start_coping 
                       "Coping score at start" 
                                     start_emo 
            "Emotional symptom score at start" 
                                      start_dl 
       "Impact on Daily living score at start" 
                                     start_wbc 
    "White blood cell count in blood at start" 
                                     start_plt 
            "Platelet count in blood at start" 
                                      start_na 
              "Sodium level in serum at start" 
                                       start_k 
           "Potassium level in serum at start" 
                                     end_month 
                          "Month of end visit" 
                                       end_day 
                            "Day of end visit" 
                                      end_year 
                           "Year of end visit" 
                                       end_mes 
   "Mayo endoscopic Score at end of treatment" 
                                       end_bss 
                  "Bowel symptom score at end" 
                                       end_abd 
              "Abdominal symptom score at end" 
                                       end_sys 
               "Systemic symptom score at end" 
                                    end_coping 
                         "Coping score at end" 
                                       end_emo 
              "Emotional symptom score at end" 
                                        end_dl 
         "Impact on Daily living score at end" 
                                       end_wbc 
      "White blood cell count in blood at end" 
                                       end_plt 
              "Platelet count in blood at end" 
                                        end_na 
                "Sodium level in serum at end" 
                                         end_k 
             "Potassium level in serum at end" </code></pre>
</div>
</div>
</div>
<div id="tabset-15-4">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-84_10c28f6f933963752e2feebb71c8073e">
<div class="sourceCode cell-code" id="cb116" data-code-line-numbers="17,18|19,20,21,22,23,24,25,26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a><span class="co"># assign labels to the data set</span></span>
<span id="cb116-2"><a href="#cb116-2"></a>df_clean <span class="ot">&lt;-</span> df_raw <span class="sc">|&gt;</span></span>
<span id="cb116-3"><a href="#cb116-3"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb116-4"><a href="#cb116-4"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>(<span class="at">which =</span> <span class="fu">c</span>(<span class="st">"rows"</span>, <span class="st">"cols"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb116-5"><a href="#cb116-5"></a>  <span class="fu">mutate</span>(</span>
<span id="cb116-6"><a href="#cb116-6"></a>    <span class="at">ethnic_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb116-7"><a href="#cb116-7"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"hispanic"</span>, <span class="st">"Hispanic"</span>, <span class="st">"hispamnic"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb116-8"><a href="#cb116-8"></a>      ethnic <span class="sc">%in%</span>  <span class="fu">c</span>(<span class="st">"NOT hispanic"</span>, <span class="st">"not hispanic"</span>) <span class="sc">~</span> <span class="st">"not hispanic"</span>,</span>
<span id="cb116-9"><a href="#cb116-9"></a>    ) <span class="sc">|&gt;</span> <span class="fu">fct_infreq</span>(),</span>
<span id="cb116-10"><a href="#cb116-10"></a>    <span class="at">end_na_clean =</span> <span class="fu">na_if</span>(end_na, <span class="sc">-</span><span class="dv">99</span>),</span>
<span id="cb116-11"><a href="#cb116-11"></a>    <span class="at">end_emo_clean =</span> <span class="fu">na_if</span>(end_emo, <span class="st">"not done"</span>) <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>(),</span>
<span id="cb116-12"><a href="#cb116-12"></a>    <span class="at">start_na_clean =</span> <span class="fu">parse_number</span>(start_na),</span>
<span id="cb116-13"><a href="#cb116-13"></a>    <span class="at">treatment =</span> <span class="fu">fct_relevel</span>(treatment, <span class="st">"upa"</span>, <span class="st">"uste"</span>, <span class="st">"oza"</span>)</span>
<span id="cb116-14"><a href="#cb116-14"></a>    ) <span class="sc">|&gt;</span>  </span>
<span id="cb116-15"><a href="#cb116-15"></a>  <span class="fu">separate_wider_delim</span>(start_bp, <span class="at">delim =</span><span class="st">"/"</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"bp_systolic"</span>, <span class="st">"bp_diastolic"</span>), <span class="at">cols_remove =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb116-16"><a href="#cb116-16"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(bp_systolic, bp_diastolic), as.numeric)) <span class="sc">|&gt;</span> </span>
<span id="cb116-17"><a href="#cb116-17"></a>  <span class="co"># assign labels to all variables from the codebook</span></span>
<span id="cb116-18"><a href="#cb116-18"></a>  labelled<span class="sc">::</span><span class="fu">set_variable_labels</span>(<span class="sc">!!!</span>vec_variables, <span class="at">.strict =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb116-19"><a href="#cb116-19"></a>  <span class="co"># assign labels to new derived variables that did not exist in the code book</span></span>
<span id="cb116-20"><a href="#cb116-20"></a>  labelled<span class="sc">::</span><span class="fu">set_variable_labels</span>(</span>
<span id="cb116-21"><a href="#cb116-21"></a>    <span class="at">ethnic_clean =</span> <span class="st">"Ethnicity"</span>,</span>
<span id="cb116-22"><a href="#cb116-22"></a>    <span class="at">end_na_clean =</span> <span class="st">"Sodium level in serum at end"</span>,</span>
<span id="cb116-23"><a href="#cb116-23"></a>    <span class="at">end_emo_clean =</span> <span class="st">"Emotional symptom score at end"</span>,</span>
<span id="cb116-24"><a href="#cb116-24"></a>    <span class="at">bp_systolic =</span> <span class="st">"Systolic blood pressure"</span>,</span>
<span id="cb116-25"><a href="#cb116-25"></a>    <span class="at">bp_diastolic =</span> <span class="st">"Diastolic blood pressure"</span></span>
<span id="cb116-26"><a href="#cb116-26"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-15-5">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-85_761ac3c419db9146c2d8dd0ebe7f8f2a">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="co"># view entire data set</span></span>
<span id="cb117-2"><a href="#cb117-2"></a>df_clean <span class="sc">|&gt;</span> <span class="fu">view</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><img data-src="images/df_yeslabels.PNG"></p>
</div>
<div id="tabset-15-6">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-86_b69cc919b4d94024cf498c27b28da112">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1"></a><span class="co"># view structure of data frame</span></span>
<span id="cb118-2"><a href="#cb118-2"></a>df_clean <span class="sc">|&gt;</span> <span class="fu">str</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [30 × 43] (S3: tbl_df/tbl/data.frame)
 $ pat_id                          : chr [1:30] "001" "002" "003" "004" ...
  ..- attr(*, "label")= chr "Patient Identifier"
 $ treatment                       : Factor w/ 3 levels "upa","uste","oza": 1 2 3 1 3 2 2 3 1 3 ...
  ..- attr(*, "label")= chr "Treatment for UC"
 $ start_date                      : num [1:30] 44208 44215 44230 44245 44255 ...
  ..- attr(*, "label")= chr "Date of start of treatment"
 $ ethnic                          : chr [1:30] "hispanic" "not hispanic" "not hispanic" "not hispanic" ...
  ..- attr(*, "label")= chr "Ethnicity - hispanic or not hispanic"
 $ race                            : chr [1:30] "Caucasian" "Caucasian" "African-American" "Caucasian" ...
  ..- attr(*, "label")= chr "Race - one of 7 choices"
 $ dob                             : POSIXct[1:30], format: "2005-01-07" "1937-04-13" ...
 $ bp_systolic                     : num [1:30] 114 132 124 144 122 121 133 116 118 122 ...
  ..- attr(*, "label")= chr "Systolic blood pressure"
 $ bp_diastolic                    : num [1:30] 72 86 92 83 78 80 74 73 66 78 ...
  ..- attr(*, "label")= chr "Diastolic blood pressure"
 $ start_bp                        : chr [1:30] "114/72" "132/86" "124/92" "144/83" ...
  ..- attr(*, "label")= chr "blood pressure at start - systolic/diastolic"
 $ pre_post_wt_kg                  : chr [1:30] "84/82" "77/77" "74/75" "66/65" ...
 $ start_mes                       : num [1:30] 3 2 1 3 3 2 3 3 2 3 ...
  ..- attr(*, "label")= chr "Mayo endoscopic Score at start of treatment"
 $ start_bss                       : num [1:30] 75.5 53.6 25.5 79.4 79.5 ...
  ..- attr(*, "label")= chr "Bowel symptom score at start"
 $ start_abd_score                 : num [1:30] 80.6 53.6 26.2 77.9 78.4 ...
 $ start_sys                       : num [1:30] 81.5 52.6 27.6 79.8 79.2 ...
  ..- attr(*, "label")= chr "Systemic symptom score at start"
 $ start_coping                    : num [1:30] 50.4 29.6 15.2 51.3 43.1 ...
  ..- attr(*, "label")= chr "Coping score at start"
 $ start_emo                       : num [1:30] 73.3 55.7 36.6 80.8 72.5 ...
  ..- attr(*, "label")= chr "Emotional symptom score at start"
 $ daily_life_impact_score_at_start: num [1:30] 86.9 56.1 31.4 84.9 87.3 ...
 $ start_wbc                       : num [1:30] 8.2 10.1 5.5 4.7 8.9 9.3 5.6 9.7 8.3 7.6 ...
  ..- attr(*, "label")= chr "White blood cell count in blood at start"
 $ start_plt                       : chr [1:30] "273K/microL" "414K/microL" "323K/microL" "389K/microL" ...
  ..- attr(*, "label")= chr "Platelet count in blood at start"
 $ start_na                        : chr [1:30] "137mmol/L" "142mmol/L" "140mmol/L" "139mmol/L" ...
  ..- attr(*, "label")= chr "Sodium level in serum at start"
 $ start_k                         : chr [1:30] "3.7" "4.0999999999999996" "4.3" "3.5" ...
  ..- attr(*, "label")= chr "Potassium level in serum at start"
 $ end_month                       : num [1:30] 6 6 7 7 7 8 8 8 8 8 ...
  ..- attr(*, "label")= chr "Month of end visit"
 $ end_day                         : num [1:30] 14 21 6 22 30 4 10 15 22 26 ...
  ..- attr(*, "label")= chr "Day of end visit"
 $ end_year                        : num [1:30] 2021 2021 2021 2021 2021 ...
  ..- attr(*, "label")= chr "Year of end visit"
 $ end_mes                         : num [1:30] 0 1 1 1 2 1 2 2 0 1 ...
  ..- attr(*, "label")= chr "Mayo endoscopic Score at end of treatment"
 $ end_bss                         : num [1:30] 9.46 31.62 25.53 35.37 57.53 ...
  ..- attr(*, "label")= chr "Bowel symptom score at end"
 $ end_abd                         : num [1:30] 20.6 33.6 26.2 37.9 58.4 ...
  ..- attr(*, "label")= chr "Abdominal symptom score at end"
 $ end_sys                         : num [1:30] 9.45 28.61 27.56 31.82 55.19 ...
  ..- attr(*, "label")= chr "Systemic symptom score at end"
 $ end_coping                      : num [1:30] 23.4 20.6 15.2 33.3 34.1 ...
  ..- attr(*, "label")= chr "Coping score at end"
 $ end_emo                         : chr [1:30] "31.980531232702354" "43.154961592472482" "36.881123946451076" "58.670309483569042" ...
  ..- attr(*, "label")= chr "Emotional symptom score at end"
 $ end_dl                          : chr [1:30] "6.6605585857717573" "30.539178998046562" "32.798667784920319" "33.781373664703942" ...
  ..- attr(*, "label")= chr "Impact on Daily living score at end"
 $ end_wbc                         : num [1:30] 8.56 11.14 3 5.69 4.8 ...
  ..- attr(*, "label")= chr "White blood cell count in blood at end"
 $ end_plt                         : num [1:30] 201 340 256 327 432 348 181 128 135 238 ...
  ..- attr(*, "label")= chr "Platelet count in blood at end"
 $ end_na                          : num [1:30] 137 142 140 139 144 ...
  ..- attr(*, "label")= chr "Sodium level in serum at end"
 $ end_k                           : num [1:30] 3.74 4.15 4.47 3.64 4.21 ...
  ..- attr(*, "label")= chr "Potassium level in serum at end"
 $ fake_street                     : chr [1:30] "990&nbsp;Mohammad&nbsp;Mountain" "8512&nbsp;O'Connell&nbsp;Valley" "777&nbsp;Ledner&nbsp;Mall" "690&nbsp;Andres&nbsp;Village" ...
 $ fake_city                       : chr [1:30] "North&nbsp;Sigmundville" "Port&nbsp;Halstad" "Croninton" "South&nbsp;Isaac" ...
 $ fake_state                      : chr [1:30] "New&nbsp;Mexico" "Missouri" "South&nbsp;Carolina" "Montana" ...
 $ fake_zip                        : num [1:30] 96074 11264 57246 31457 30711 ...
 $ ethnic_clean                    : Factor w/ 2 levels "not hispanic",..: 2 1 1 1 1 1 1 2 1 2 ...
  ..- attr(*, "label")= chr "Ethnicity"
 $ end_na_clean                    : num [1:30] 137 142 140 139 144 ...
  ..- attr(*, "label")= chr "Sodium level in serum at end"
 $ end_emo_clean                   : num [1:30] 32 43.2 36.9 58.7 58.9 ...
  ..- attr(*, "label")= chr "Emotional symptom score at end"
 $ start_na_clean                  : num [1:30] 137 142 140 139 144 145 142 138 140 137 ...</code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="stage-2-wrangling-your-data" class="title-slide slide level1 center">
<h1>Stage 2 <br>Wrangling your Data</h1>

</section>
<section id="where-are-we-now" class="slide level2">
<h2>Where are We Now?</h2>
<ul>
<li>We have done DEV (Data Evaluation and Validation) - more validation to be done, Data validation is a continuous process, right up to Data Lock.</li>
<li>Discussed the importance of preventing data errors at the source - data collection and entry (preferably using a tool with data validation at entry - like REDCap)</li>
<li>Did Stage 1 cleaning - clean variable names, remove empty columns/rows, fix variable types/classes (characters in numeric, recoding factors, date madness), address missingness, violations of tidy data principles (separate), added meaningful variable labels.</li>
</ul>
</section>
<section id="deciding-on-the-unit-of-observation" class="slide level2">
<h2>Deciding on the Unit of Observation</h2>
<ul>
<li>In Prospective Data Collection, a patient arrives for a visit. All data collected are part of the same observation/visit.
<ul>
<li>Alternatively, we can divide a visit into distinct observations, like blood pressure, a PHQ-9 depression questionnaire, and a hemoglobin measurement (all on the same date)</li>
</ul></li>
<li>In retrospective data review, we can divide the observations up as we choose. For inpatient stays, we need to decide <em>a priori</em> on how to handle multiple observations of the same type (e.g., vitals q6h) in the same day.
<ul>
<li>use the 0800 observation each day?</li>
<li>use the daily average for SBP and DBP?</li>
<li>use the max values each day?</li>
</ul></li>
</ul>
</section>
<section id="what-is-the-unit-of-analysis" class="slide level2">
<h2>What is the Unit of Analysis?</h2>
<ul>
<li>While the unit of observation may be straightforward for outpatient visits, and complicated for inpatient stays, in the end we need to select a Unit of Analysis</li>
<li>This Unit of Analysis usually depends on the <strong>Question</strong> we want to ask</li>
</ul>
</section>
<section id="is-the-unit-of-analysis-the-patient" class="slide level2">
<h2>Is the Unit of Analysis the Patient?</h2>
<ul>
<li>Did the patient die?</li>
<li>Did the patient have the outcome of colectomy?</li>
<li>Did the patient reach disease remission?</li>
</ul>
</section>
<section id="is-the-unit-of-analysis-the-visitencounter" class="slide level2">
<h2>Is the Unit of Analysis the Visit/Encounter?</h2>
<ul>
<li>Often these are within-patient outcomes
<ul>
<li>Did the C-reactive protein improve from Week 0 to Week 8?</li>
<li>Did the number of sickle cell crises/year decrease after CRISPR gene therapy?</li>
<li>Did the endoscopic ulcer score decrease on the experimental therapy vs placebo?</li>
</ul></li>
</ul>
</section>
<section id="reshaping-your-data-with-tidyr" class="slide level2">
<h2>Reshaping your data with tidyr</h2>
<div class="panel-tabset">
<ul id="tabset-16" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-16-1">The Problem</a></li><li><a href="#tabset-16-2">Wide Version of Data</a></li><li><a href="#tabset-16-3">Tall Version of Data</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1">
<ul>
<li>We often <em>enter</em> data by patient</li>
<li>Spreadsheets encourage us to enter longitudinal data as long rows (per patient)</li>
<li>We end up with <strong>wide</strong>, rather than <strong>tall</strong> data</li>
</ul>
</div>
<div id="tabset-16-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-88_ee1e734b5d9541d029cac3f0da5eb5d9">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  pat_id treatment start_mes end_mes start_bss end_bss start_emo end_emo
  &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
1 001    upa               3       0      75.5    9.46      73.3    32.0
2 002    uste              2       1      53.6   31.6       55.7    43.2
3 003    oza               1       1      25.5   25.5       36.6    36.9
4 004    upa               3       1      79.4   35.4       80.8    58.7
5 005    oza               3       2      79.5   57.5       72.5    58.9
6 006    uste              2       1      54.5   32.5       48.3    34.6</code></pre>
</div>
</div>
</div>
<div id="tabset-16-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-89_f0b91728cb13b4835b319a9aad179a00">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   pat_id treatment measure   score
   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;
 1 001    upa       start_mes  3   
 2 001    upa       end_mes    0   
 3 001    upa       start_bss 75.5 
 4 001    upa       end_bss    9.46
 5 001    upa       start_emo 73.3 
 6 001    upa       end_emo   32.0 
 7 002    uste      start_mes  2   
 8 002    uste      end_mes    1   
 9 002    uste      start_bss 53.6 
10 002    uste      end_bss   31.6 
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="reshaping-your-data-with-tidyr-1" class="slide level2">
<h2>Reshaping your data with tidyr</h2>
<ul>
<li>R (and most R functions) are vectorized to handle tall data</li>
<li>One small observation per row</li>
<li>Most analyses in R are easier with tall data</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-90_d6f4ffef0b69618a2bff5cd15ab2da73">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   pat_id treatment measure   score
   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;
 1 001    upa       start_mes  3   
 2 001    upa       end_mes    0   
 3 001    upa       start_bss 75.5 
 4 001    upa       end_bss    9.46
 5 001    upa       start_emo 73.3 
 6 001    upa       end_emo   32.0 
 7 002    uste      start_mes  2   
 8 002    uste      end_mes    1   
 9 002    uste      start_bss 53.6 
10 002    uste      end_bss   31.6 
# ℹ 170 more rows</code></pre>
</div>
</div>
</section>
<section id="pivoting-longer-common" class="slide level2">
<h2>Pivoting Longer (common)</h2>
<ul>
<li>We need to ‘pivot’ data from wide to tall on the regular</li>
<li>This “lengthens” data, increasing the number of rows, and decreasing the number of columns</li>
<li>We will be looking at Visit Dates (Start vs End) and Measures</li>
</ul>
</section>
<section id="pivoting-longer" class="slide level2">
<h2>Pivoting Longer</h2>
<ul>
<li>Arguments: data, cols, names_to, values_to, and many optional arguments</li>
<li>Details from the tidyverse help page are <a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">here</a></li>
<li><strong>data</strong> is your dataframe/tibble - you can pipe this in</li>
<li><strong>cols</strong> = columns to pivot, as a vector of names, or by number, or selected with <a href="https://tidyselect.r-lib.org">tidyselect</a> functions</li>
<li><strong>names_to</strong> = A character vector specifying the new column or columns to create from the information stored in the column names of data specified by cols.</li>
<li><strong>values_to</strong> = A string specifying the name of the column to create from the data stored in cell values.</li>
</ul>
</section>
<section id="pivoting-longer-example" class="slide level2">
<h2>Pivoting Longer (Example)</h2>
<p>Let’s start with the wide version (selected columns from messy_uc)</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-91_567d285382d399d5315c9fb22e2b1ffa">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 8
   pat_id treatment start_mes end_mes start_bss end_bss start_emo end_emo
   &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
 1 001    upa               3       0      75.5    9.46      73.3    32.0
 2 002    uste              2       1      53.6   31.6       55.7    43.2
 3 003    oza               1       1      25.5   25.5       36.6    36.9
 4 004    upa               3       1      79.4   35.4       80.8    58.7
 5 005    oza               3       2      79.5   57.5       72.5    58.9
 6 006    uste              2       1      54.5   32.5       48.3    34.6
 7 007    uste              3       2      79.0   57.0       72.7    63.3
 8 008    oza               3       2      79.0   57.0       74.6    65.3
 9 009    upa               2       0      53.1    9.06      54.2    28.0
10 010    oza               3       1      77.4   33.4       74.4    46.8
# ℹ 20 more rows</code></pre>
</div>
</div>
<ul>
<li>Note that there are 30 rows, one per patient, with 6 measured quantities for each patient.</li>
</ul>
</section>
<section id="pivoting-longer-example-1" class="slide level2">
<h2>Pivoting Longer (Example)</h2>
<p>This is the tall version we want to end up with.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-92_138b81baafef0a96409c24b0f6409ca7">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   pat_id treatment measure   score
   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;
 1 001    upa       start_mes  3   
 2 001    upa       end_mes    0   
 3 001    upa       start_bss 75.5 
 4 001    upa       end_bss    9.46
 5 001    upa       start_emo 73.3 
 6 001    upa       end_emo   32.0 
 7 002    uste      start_mes  2   
 8 002    uste      end_mes    1   
 9 002    uste      start_bss 53.6 
10 002    uste      end_bss   31.6 
# ℹ 170 more rows</code></pre>
</div>
</div>
<ul>
<li>Note that there now 180 rows (30*6), with one row per observation measure.</li>
</ul>
</section>
<section id="doing-the-pivot_longer" class="slide level2">
<h2>Doing the pivot_longer()</h2>
<p>What values do we want for these key arguments in order to pivot_longer?</p>
<ul>
<li>cols (which columns to pivot)</li>
<li>names_to (variable to store the names)</li>
<li>values_to (variable to store the values)</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-93_7a7b7b6e6da75cbff12adfdd81c5d0d6">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 8
   pat_id treatment start_mes end_mes start_bss end_bss start_emo end_emo
   &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
 1 001    upa               3       0      75.5    9.46      73.3    32.0
 2 002    uste              2       1      53.6   31.6       55.7    43.2
 3 003    oza               1       1      25.5   25.5       36.6    36.9
 4 004    upa               3       1      79.4   35.4       80.8    58.7
 5 005    oza               3       2      79.5   57.5       72.5    58.9
 6 006    uste              2       1      54.5   32.5       48.3    34.6
 7 007    uste              3       2      79.0   57.0       72.7    63.3
 8 008    oza               3       2      79.0   57.0       74.6    65.3
 9 009    upa               2       0      53.1    9.06      54.2    28.0
10 010    oza               3       1      77.4   33.4       74.4    46.8
# ℹ 20 more rows</code></pre>
</div>
</div>
</section>
<section id="pivoting-longer-in-action" class="slide level2">
<h2>Pivoting Longer In Action</h2>
<div class="panel-tabset">
<ul id="tabset-17" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-17-1">Problem: Wide</a></li><li><a href="#tabset-17-2">Code: pivot_longer</a></li><li><a href="#tabset-17-3">Result: Tall</a></li></ul>
<div class="tab-content">
<div id="tabset-17-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-94_a636ec51bf1def47aa8a9117c013fe75">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 8
   pat_id treatment start_mes end_mes start_bss end_bss start_emo end_emo
   &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
 1 001    upa               3       0      75.5    9.46      73.3    32.0
 2 002    uste              2       1      53.6   31.6       55.7    43.2
 3 003    oza               1       1      25.5   25.5       36.6    36.9
 4 004    upa               3       1      79.4   35.4       80.8    58.7
 5 005    oza               3       2      79.5   57.5       72.5    58.9
 6 006    uste              2       1      54.5   32.5       48.3    34.6
 7 007    uste              3       2      79.0   57.0       72.7    63.3
 8 008    oza               3       2      79.0   57.0       74.6    65.3
 9 009    upa               2       0      53.1    9.06      54.2    28.0
10 010    oza               3       1      77.4   33.4       74.4    46.8
# ℹ 20 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-17-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-95_5bcb788c064095aecd3f4e9b0ea8f306">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>wide <span class="sc">|&gt;</span> </span>
<span id="cb127-2"><a href="#cb127-2"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb127-3"><a href="#cb127-3"></a>    <span class="at">cols =</span> <span class="st">"start_mes"</span><span class="sc">:</span><span class="st">"end_emo"</span>, </span>
<span id="cb127-4"><a href="#cb127-4"></a>    <span class="co"># could also use 3:8</span></span>
<span id="cb127-5"><a href="#cb127-5"></a>               <span class="at">names_to =</span> <span class="st">"measure"</span>,</span>
<span id="cb127-6"><a href="#cb127-6"></a>               <span class="at">values_to =</span> <span class="st">"score"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-17-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-96_b96150e5779dda315ff0e8c01eb578ee">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   pat_id treatment measure   score
   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;
 1 001    upa       start_mes  3   
 2 001    upa       end_mes    0   
 3 001    upa       start_bss 75.5 
 4 001    upa       end_bss    9.46
 5 001    upa       start_emo 73.3 
 6 001    upa       end_emo   32.0 
 7 002    uste      start_mes  2   
 8 002    uste      end_mes    1   
 9 002    uste      start_bss 53.6 
10 002    uste      end_bss   31.6 
# ℹ 170 more rows</code></pre>
</div>
</div>
<ul>
<li>Does this make sense so far?</li>
<li>Zoom reaction: “thumbs up” emoji 👍 if yes
<ul>
<li>“raised hand” emoji ✋ if puzzled/questions</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="one-minor-issue---separation-of-measure" class="slide level2">
<h2>One Minor Issue - Separation of measure</h2>
<div class="panel-tabset">
<ul id="tabset-18" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-18-1">Problem</a></li><li><a href="#tabset-18-2">Code</a></li><li><a href="#tabset-18-3">Result</a></li><li><a href="#tabset-18-4">Alternative within pivot_longer</a></li></ul>
<div class="tab-content">
<div id="tabset-18-1">
<ul>
<li>the “measure” column combines a timepoint and the measure</li>
<li>Needs to be separated.</li>
<li>You already know how to use <em>separate()</em></li>
<li>Arguments
<ul>
<li>col</li>
<li>sep</li>
<li>into</li>
</ul></li>
</ul>
</div>
<div id="tabset-18-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-97_6934fa9da8dcc639c7c820e159749d11">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>tall <span class="sc">|&gt;</span> </span>
<span id="cb129-2"><a href="#cb129-2"></a>  <span class="fu">separate</span>(<span class="at">col =</span> <span class="st">"measure"</span>,</span>
<span id="cb129-3"><a href="#cb129-3"></a>           <span class="at">sep =</span> <span class="st">"_"</span>,</span>
<span id="cb129-4"><a href="#cb129-4"></a>           <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"timept"</span>, <span class="st">"measure"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-18-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-98_63b58eaa795899f7be5ce15e5e29d384">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 5
   pat_id treatment timept measure score
   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt;
 1 001    upa       start  mes      3   
 2 001    upa       end    mes      0   
 3 001    upa       start  bss     75.5 
 4 001    upa       end    bss      9.46
 5 001    upa       start  emo     73.3 
 6 001    upa       end    emo     32.0 
 7 002    uste      start  mes      2   
 8 002    uste      end    mes      1   
 9 002    uste      start  bss     53.6 
10 002    uste      end    bss     31.6 
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-18-4">
<ul>
<li>You can do this <em>within</em> pivot_longer with one more argument (if you are <em>fancy</em>)</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-99_52b29453b02c3e47ad4dd5fde735c6a9">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a>wide <span class="sc">|&gt;</span> </span>
<span id="cb131-2"><a href="#cb131-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb131-3"><a href="#cb131-3"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"timept"</span>, <span class="st">"measure"</span>),</span>
<span id="cb131-4"><a href="#cb131-4"></a>    <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb131-5"><a href="#cb131-5"></a>    <span class="at">values_to =</span> <span class="st">"score"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-100_3c8f791905616afb0810795541e1d105">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 5
   pat_id treatment timept measure score
   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt;
 1 001    upa       start  mes      3   
 2 001    upa       end    mes      0   
 3 001    upa       start  bss     75.5 
 4 001    upa       end    bss      9.46
 5 001    upa       start  emo     73.3 
 6 001    upa       end    emo     32.0 
 7 002    uste      start  mes      2   
 8 002    uste      end    mes      1   
 9 002    uste      start  bss     53.6 
10 002    uste      end    bss     31.6 
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="pivoting-longer-1" class="slide level2">
<h2>Pivoting Longer</h2>
<ul>
<li><p>Your Turn with endo_data</p></li>
<li><p>Measurements of Trans-Epithelial Electrical Resistance (TEER, the inverse of leakiness) in biopsies of 3 segments of intestine.</p></li>
<li><p>This could be affected by portal hypertension in patients with liver cirrhosis</p></li>
<li><p>Let’s find out!</p></li>
<li><p>Here is the code to load the data if you are doing this on a local computer. Use the clipboard icon at the top right to copy the code.</p></li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-101_f5abf4cb9ba76f00a68d89208ce957da">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>endo_data <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb133-2"><a href="#cb133-2"></a>  <span class="sc">~</span>pat_id, <span class="sc">~</span>portal_htn, <span class="sc">~</span>duod_teer, <span class="sc">~</span>ileal_teer, <span class="sc">~</span>colon_teer,</span>
<span id="cb133-3"><a href="#cb133-3"></a>  <span class="dv">001</span>, <span class="dv">1</span>, <span class="fl">4.33</span>, <span class="fl">14.57</span>, <span class="fl">16.23</span>,</span>
<span id="cb133-4"><a href="#cb133-4"></a>  <span class="dv">002</span>, <span class="dv">0</span>, <span class="fl">11.67</span>, <span class="fl">15.99</span>, <span class="fl">18.97</span>,</span>
<span id="cb133-5"><a href="#cb133-5"></a>  <span class="dv">003</span>, <span class="dv">1</span>, <span class="fl">4.12</span>, <span class="fl">13.77</span>, <span class="fl">15.22</span>,</span>
<span id="cb133-6"><a href="#cb133-6"></a>  <span class="dv">004</span>, <span class="dv">1</span>, <span class="fl">4.62</span>, <span class="fl">16.37</span>, <span class="fl">18.12</span>,</span>
<span id="cb133-7"><a href="#cb133-7"></a>  <span class="dv">005</span>, <span class="dv">0</span>, <span class="fl">12.43</span>, <span class="fl">15.84</span>, <span class="fl">19.04</span>,</span>
<span id="cb133-8"><a href="#cb133-8"></a>  <span class="dv">006</span>, <span class="dv">0</span>, <span class="fl">13.05</span>, <span class="fl">16.23</span>, <span class="fl">18.81</span>,</span>
<span id="cb133-9"><a href="#cb133-9"></a>  <span class="dv">007</span>, <span class="dv">0</span>, <span class="fl">11.88</span>, <span class="fl">15.72</span>, <span class="fl">18.31</span>,</span>
<span id="cb133-10"><a href="#cb133-10"></a>  <span class="dv">008</span>, <span class="dv">1</span>, <span class="fl">4.87</span>, <span class="fl">16.59</span>, <span class="fl">18.77</span>,</span>
<span id="cb133-11"><a href="#cb133-11"></a>  <span class="dv">009</span>, <span class="dv">1</span>, <span class="fl">4.23</span>, <span class="fl">15.04</span>, <span class="fl">16.87</span>,</span>
<span id="cb133-12"><a href="#cb133-12"></a>  <span class="dv">010</span>, <span class="dv">0</span>, <span class="fl">12.77</span>, <span class="fl">16.73</span>, <span class="fl">19.12</span></span>
<span id="cb133-13"><a href="#cb133-13"></a>)</span>
<span id="cb133-14"><a href="#cb133-14"></a>endo_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
   pat_id portal_htn duod_teer ileal_teer colon_teer
    &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;
 1      1          1      4.33       14.6       16.2
 2      2          0     11.7        16.0       19.0
 3      3          1      4.12       13.8       15.2
 4      4          1      4.62       16.4       18.1
 5      5          0     12.4        15.8       19.0
 6      6          0     13.0        16.2       18.8
 7      7          0     11.9        15.7       18.3
 8      8          1      4.87       16.6       18.8
 9      9          1      4.23       15.0       16.9
10     10          0     12.8        16.7       19.1</code></pre>
</div>
</div>
</section>
<section id="exercise-ph1" class="slide level2">
<h2>Exercise PH1</h2>
<p><br></p>
<p>Complete Data Cleaning Fundamentals Exercise PH1.</p>
<ul>
<li><p>Do This in <a href="https://posit.cloud/content/5758558">Posit Cloud</a></p></li>
<li><p>If you have the exercise done correctly, click on the Reactions tab in Zoom, and click to put the “thumbs up” emoji 👍 on your screen.</p></li>
<li><p>If you are having trouble, click on the Reactions tab in Zoom, and click to put the “raised hand” emoji ✋ on your screen.</p></li>
</ul>
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/exercises.html#ph1" target="_blank">–&gt; Take me to the exercise solution &lt;–</a></p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_7d5d4913" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:3.5em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="pivoting-longer-with-endo_data" class="slide level2">
<h2>Pivoting Longer with endo_data</h2>
<div class="panel-tabset">
<ul id="tabset-19" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-19-1">Dataset</a></li><li><a href="#tabset-19-2">Arguments</a></li><li><a href="#tabset-19-3">Code</a></li><li><a href="#tabset-19-4">Solution</a></li><li><a href="#tabset-19-5">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-19-1">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-103_6993329e5b152678e159385b3d55289e">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
   pat_id portal_htn duod_teer ileal_teer colon_teer
    &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;
 1      1          1      4.33       14.6       16.2
 2      2          0     11.7        16.0       19.0
 3      3          1      4.12       13.8       15.2
 4      4          1      4.62       16.4       18.1
 5      5          0     12.4        15.8       19.0
 6      6          0     13.0        16.2       18.8
 7      7          0     11.9        15.7       18.3
 8      8          1      4.87       16.6       18.8
 9      9          1      4.23       15.0       16.9
10     10          0     12.8        16.7       19.1</code></pre>
</div>
</div>
</div>
<div id="tabset-19-2">
<ul>
<li>What values do you want to use for these arguments to <code>pivot_longer</code>:
<ul>
<li>cols</li>
<li>names_pattern = “(.+)_teer”</li>
<li>names_to</li>
<li>values_to</li>
</ul></li>
<li>Note that we are giving you the correct value for <code>names_pattern</code>, which will ask for what we want - to keep the characters of the name (of whatever length) before “_teer”</li>
</ul>
</div>
<div id="tabset-19-3">
<ul>
<li>Fill in the blanks to pivot this dataset to tall format, with columns for the intestinal location and the teer value.</li>
<li>Note that we are giving you the correct answer for the <code>names_pattern</code> argument.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-104_9f5bee33b05bb0fd200e357dd4f537be">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1"></a>endo_data <span class="sc">|&gt;</span> </span>
<span id="cb136-2"><a href="#cb136-2"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb136-3"><a href="#cb136-3"></a>    <span class="at">cols =</span> ___ ,</span>
<span id="cb136-4"><a href="#cb136-4"></a>    <span class="at">names_pattern =</span> <span class="st">"(.+)_teer"</span>,</span>
<span id="cb136-5"><a href="#cb136-5"></a>    <span class="at">names_to =</span>  ___ ,</span>
<span id="cb136-6"><a href="#cb136-6"></a>    <span class="at">values_to =</span> ___</span>
<span id="cb136-7"><a href="#cb136-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-4">
<ul>
<li>Fill in the blanks to pivot this dataset to tall format, with columns for the intestinal location and the teer value.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-105_1880340f30c39ed90819810d2f77a1f9">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a>endo_data <span class="sc">|&gt;</span> </span>
<span id="cb137-2"><a href="#cb137-2"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb137-3"><a href="#cb137-3"></a>    <span class="at">cols =</span> <span class="st">"duod_teer"</span><span class="sc">:</span><span class="st">"colon_teer"</span>,</span>
<span id="cb137-4"><a href="#cb137-4"></a>    <span class="at">names_pattern =</span> <span class="st">"(.+)_teer"</span>,</span>
<span id="cb137-5"><a href="#cb137-5"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"location"</span>),</span>
<span id="cb137-6"><a href="#cb137-6"></a>    <span class="at">values_to =</span> <span class="st">"teer"</span></span>
<span id="cb137-7"><a href="#cb137-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Run the code, and look at the resulting table. Use the clipboard icon at the top right to copy the code.</li>
</ul>
</div>
<div id="tabset-19-5">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-106_d3ac90d42f839cb8e8b7a9e62c44eba4">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 4
   pat_id portal_htn location  teer
    &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
 1      1          1 duod      4.33
 2      1          1 ileal    14.6 
 3      1          1 colon    16.2 
 4      2          0 duod     11.7 
 5      2          0 ileal    16.0 
 6      2          0 colon    19.0 
 7      3          1 duod      4.12
 8      3          1 ileal    13.8 
 9      3          1 colon    15.2 
10      4          1 duod      4.62
# ℹ 20 more rows</code></pre>
</div>
</div>
<ul>
<li>Do you think that portal hypertension has an effect on TEER and (its inverse) epithelial leakiness?</li>
</ul>
</div>
</div>
</div>
</section>
<section id="pivoting-wider" class="slide level2">
<h2>Pivoting Wider</h2>
<div class="panel-tabset">
<ul id="tabset-20" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-20-1">Tall messy_uc Data</a></li><li><a href="#tabset-20-2">Code to Pivot</a></li><li><a href="#tabset-20-3">Wider Result</a></li></ul>
<div class="tab-content">
<div id="tabset-20-1">
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Wide data is less common, but sometimes needed</li>
<li>Here we will convert the tall version of our selected messy_uc data back to wide.</li>
<li>This is what the tall data look like</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-107_a61e8b9d582a18151a7b8892f83bf4ca">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 180 × 4
   pat_id treatment measure   score
   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;
 1 001    upa       start_mes  3   
 2 001    upa       end_mes    0   
 3 001    upa       start_bss 75.5 
 4 001    upa       end_bss    9.46
 5 001    upa       start_emo 73.3 
 6 001    upa       end_emo   32.0 
 7 002    uste      start_mes  2   
 8 002    uste      end_mes    1   
 9 002    uste      start_bss 53.6 
10 002    uste      end_bss   31.6 
# ℹ 170 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-20-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-108_99a6b1e9b6703c342226f2c4c6baaa18">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1"></a>tall <span class="sc">|&gt;</span> </span>
<span id="cb140-2"><a href="#cb140-2"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb140-3"><a href="#cb140-3"></a>    <span class="at">id_cols =</span> <span class="fu">c</span>(pat_id, treatment), <span class="co"># Variables not pivoted</span></span>
<span id="cb140-4"><a href="#cb140-4"></a>    <span class="at">names_from =</span> measure, <span class="co"># will become column names</span></span>
<span id="cb140-5"><a href="#cb140-5"></a>    <span class="at">values_from =</span> score <span class="co"># will become values</span></span>
<span id="cb140-6"><a href="#cb140-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-20-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-109_661daeef7166a8f3acbbe634b65ebbb9">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 8
   pat_id treatment start_mes end_mes start_bss end_bss start_emo end_emo
   &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
 1 001    upa               3       0      75.5    9.46      73.3    32.0
 2 002    uste              2       1      53.6   31.6       55.7    43.2
 3 003    oza               1       1      25.5   25.5       36.6    36.9
 4 004    upa               3       1      79.4   35.4       80.8    58.7
 5 005    oza               3       2      79.5   57.5       72.5    58.9
 6 006    uste              2       1      54.5   32.5       48.3    34.6
 7 007    uste              3       2      79.0   57.0       72.7    63.3
 8 008    oza               3       2      79.0   57.0       74.6    65.3
 9 009    upa               2       0      53.1    9.06      54.2    28.0
10 010    oza               3       1      77.4   33.4       74.4    46.8
# ℹ 20 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="fill-in-unobserved-date-times-with-padr" class="slide level2">
<h2>Fill in Unobserved Date-Times with padr</h2>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-110_86d5ae89e5bb462990359b6255bc8e59">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  title                   time_stamp         
  &lt;chr&gt;                   &lt;dttm&gt;             
1 EMS: BACK PAINS/INJURY  2015-12-10 17:40:00
2 EMS: DIABETIC EMERGENCY 2015-12-10 17:40:00
3 Fire: GAS-ODOR/LEAK     2015-12-10 17:40:00
4 EMS: CARDIAC EMERGENCY  2015-12-10 17:40:01
5 EMS: DIZZINESS          2015-12-10 17:40:01
6 EMS: HEAD INJURY        2015-12-10 17:40:01</code></pre>
</div>
</div>
</div><div class="column" style="width:45%;">
<ul>
<li>The <strong>emergency</strong> data set in the {padr} package contains &gt; 120K emergency calls from Montgomery County, PA over a period of ~ 11 months.</li>
<li>Each call has a title and a timestamp</li>
</ul>
</div>
</div>
</section>
<section id="thickening-time-to-a-usable-level" class="slide level2">
<h2>Thickening Time to a Usable Level</h2>
<div class="panel-tabset">
<ul id="tabset-21" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-21-1">Goal</a></li><li><a href="#tabset-21-2">Code</a></li><li><a href="#tabset-21-3">Result</a></li><li><a href="#tabset-21-4">Plot Monthly</a></li></ul>
<div class="tab-content">
<div id="tabset-21-1">
<ul>
<li>The thicken function adds a column to a data frame that is of a higher interval than the original variable.</li>
<li>The variable <strong>time_stamp</strong> has the interval of seconds</li>
<li>We can thicken the data to day, or to week, or to month.</li>
<li>Then we can count events by a usable unit of time</li>
</ul>
</div>
<div id="tabset-21-2">
<ul>
<li>We will thicken to month</li>
<li>Then count overdoses by month</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-111_5c94e7340093614a66143d1bcd19099d">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a>emergency <span class="sc">|&gt;</span> </span>
<span id="cb143-2"><a href="#cb143-2"></a>  <span class="fu">thicken</span>(<span class="st">'month'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb143-3"><a href="#cb143-3"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(title, <span class="st">"OVERDOSE"</span>)) <span class="sc">|&gt;</span>   <span class="fu">group_by</span>(time_stamp_month) <span class="sc">|&gt;</span> </span>
<span id="cb143-4"><a href="#cb143-4"></a>  <span class="fu">mutate</span>(<span class="at">ods =</span> <span class="fu">sum</span>(<span class="fu">str_detect</span>(title, <span class="st">"OVERDOSE"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb143-5"><a href="#cb143-5"></a>    <span class="fu">select</span>(time_stamp_month, ods) <span class="sc">|&gt;</span> </span>
<span id="cb143-6"><a href="#cb143-6"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-21-3">
<ul>
<li>This lets us count events like overdoses by month with time_stamp_month.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-112_4bca4d5eb272e886e4ea55ebf223a638">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 2
# Groups:   time_stamp_month [11]
   time_stamp_month   ods
   &lt;date&gt;           &lt;int&gt;
 1 2015-12-01          91
 2 2016-01-01         135
 3 2016-02-01         141
 4 2016-03-01         161
 5 2016-04-01         124
 6 2016-05-01         149
 7 2016-06-01         140
 8 2016-07-01         147
 9 2016-08-01         137
10 2016-09-01         171
11 2016-10-01          95</code></pre>
</div>
</div>
</div>
<div id="tabset-21-4">
<div class="cell columns column-output-location" data-hash="index_cache/revealjs/unnamed-chunk-113_032e0680e00f1bf4230e2d1439739268">
<div class="column">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a>by_month <span class="sc">|&gt;</span> </span>
<span id="cb145-2"><a href="#cb145-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> time_stamp_month,</span>
<span id="cb145-3"><a href="#cb145-3"></a>             <span class="at">y =</span> ods)) <span class="sc">+</span></span>
<span id="cb145-4"><a href="#cb145-4"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb145-5"><a href="#cb145-5"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb145-6"><a href="#cb145-6"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Overdoses Per Month"</span>,</span>
<span id="cb145-7"><a href="#cb145-7"></a>       <span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb145-8"><a href="#cb145-8"></a>  <span class="at">title =</span> <span class="st">"Monthly Overdose Calls"</span>) <span class="sc">+</span></span>
<span id="cb145-9"><a href="#cb145-9"></a>  <span class="fu">theme_linedraw</span>(<span class="at">base_size =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb145-10"><a href="#cb145-10"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">175</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-113-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="padding-unobserved-dates-weekends" class="slide level2">
<h2>Padding unobserved dates (weekends?)</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li>The pad function allows you to fill in missing intervals.</li>
<li>As an example, my hospital only runs fecal calprotectin tests on weekdays.</li>
<li>This can lead to weird discontinuities in data over a weekend (Dec 3-4).</li>
<li>No observations on weekend days.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-114_275373c5979bd33834db9ae05f085489">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 3
   pat_id date         fcp
   &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt;
 1 001    2022-12-01  1574
 2 001    2022-12-02  1323
 3 001    2022-12-05   673
 4 001    2022-12-06   314
 5 001    2022-12-07   168
 6 002    2022-11-30  1393
 7 002    2022-12-01  1014
 8 002    2022-12-02   812
 9 002    2022-12-05   247
10 002    2022-12-06   118
11 003    2022-12-02   987
12 003    2022-12-05   438
13 003    2022-12-06   312
14 003    2022-12-05   194
15 003    2022-12-06   101</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="padding-unobserved-times" class="slide level2">
<h2>Padding Unobserved Times</h2>
<div class="panel-tabset">
<ul id="tabset-22" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-22-1">The Problem</a></li><li><a href="#tabset-22-2">The Code</a></li><li><a href="#tabset-22-3">The Result</a></li></ul>
<div class="tab-content">
<div id="tabset-22-1">
<ul>
<li>We can fill in (pad) the unobserved weekend days with the <strong>pad()</strong> function.</li>
</ul>
</div>
<div id="tabset-22-2">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-115_3d78eb36a9bc036feda86d81fe85edb9">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a>fcp <span class="sc">|&gt;</span> </span>
<span id="cb147-2"><a href="#cb147-2"></a>  <span class="fu">pad</span>(<span class="at">group =</span> <span class="st">"pat_id"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb147-3"><a href="#cb147-3"></a>  tidyr<span class="sc">::</span><span class="fu">fill</span>(pat_id) <span class="sc">|&gt;</span> <span class="co"># fill in the missing pat_ids</span></span>
<span id="cb147-4"><a href="#cb147-4"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-22-3">
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-116_fad6699815515d00bb2877a3de64da10">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 × 3
   pat_id date         fcp
   &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt;
 1 001    2022-12-01  1574
 2 001    2022-12-02  1323
 3 001    2022-12-03    NA
 4 001    2022-12-04    NA
 5 001    2022-12-05   673
 6 001    2022-12-06   314
 7 001    2022-12-07   168
 8 002    2022-11-30  1393
 9 002    2022-12-01  1014
10 002    2022-12-02   812
11 002    2022-12-03    NA
12 002    2022-12-04    NA
13 002    2022-12-05   247
14 002    2022-12-06   118
# ℹ 7 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<ul>
<li>New observations are created on the missing dates</li>
<li>NAs are filled in for the missing FCPs, with one for each day and group (pat_id)</li>
<li>we used <strong>tidyr::fill(pat_id)</strong> to fill in the missing pat_ids</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="joins-of-data-from-different-sources" class="slide level2">
<h2>Joins of data from different sources</h2>
<ul>
<li>We often collect data from different sources that we later want to join together for analysis
<ul>
<li>Data from local Electronic Medical Record</li>
<li>Data from the CDC</li>
<li>Data from the US Census</li>
</ul></li>
<li>External data can illuminate our understanding of our local patient data</li>
</ul>
</section>
<section id="local-demographics-with-cdc-svi-data" class="slide level2">
<h2>Local Demographics with CDC SVI data</h2>
<div class="panel-tabset">
<ul id="tabset-23" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-23-1">The Problem</a></li><li><a href="#tabset-23-2">The Data</a></li><li><a href="#tabset-23-3">The Code</a></li><li><a href="#tabset-23-4">The Solution</a></li><li><a href="#tabset-23-5">The Result</a></li></ul>
<div class="tab-content">
<div id="tabset-23-1">
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li>We have 2 datasets, one local Demographics and Census Tract, and one from the CDC that has values for Social Vulnerability Index by Census Tract</li>
<li>We want to know the median SVI for the neighborhood of each patient</li>
<li>We need to left_join these datasets together by matching on the Census Tract</li>
</ul>
</div><div class="column" style="width:40%;">
<p><img data-src="images/joins.PNG"></p>
</div>
</div>
</div>
<div id="tabset-23-2">
<ul>
<li>What is the common uniqid/key?</li>
</ul>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li>demo</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-117_ec7aacba068d97231544b301f28a41b3">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  pat_id name                 htn census_tract
  &lt;chr&gt;  &lt;chr&gt;              &lt;dbl&gt;        &lt;dbl&gt;
1 001    Arthur Blankenship     0  26161404400
2 002    Britney Jonas          0  26161405100
3 003    Sally Davis            1  26161402100
4 004    Al Jones               0  26161403200
5 005    Gary Hamill            1  26161405200
6 006    Ken Bartoletti         0  26161404500
7 007    Ike Gerhold            0  26161405600
8 008    Tatiana Grant          0  26161404300
9 009    Antione Delacroix      1  26161405500</code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<ul>
<li>cdc</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-118_9072104aa4e6b9dfdbe952d3ae6eed68">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  census_tract   svi
         &lt;dbl&gt; &lt;dbl&gt;
1  26161404400  0.12
2  26161405100  0.67
3  26161402100  0.43
4  26161403200  0.07
5  26161405200  0.71
6  26161404500  0.23
7  26161405600  0.27
8  26161404300  0.21
9  26161405500  0.62</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-23-3">
<ul>
<li>Replace the generic arguments to the left_join function to join the demographic data (<em>demo</em>) on the left to add Social Vulnerability index (svi) from the <em>cdc</em> dataset on the RHS. Left join by census tract.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-119_0ca1ef7cf58c05576c0c8e8575bb0991">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="fu">left_join</span>(dataset_x, dataset_y, <span class="at">by =</span> <span class="st">"key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-23-4">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-120_f18fda90b8713b651fc680ea2bcc7300">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1"></a><span class="fu">left_join</span>(demo, cdc, <span class="at">by =</span> <span class="st">"census_tract"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-23-5">
<ul>
<li>Is there an association between social vulnerability and hypertension?</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-121_d03ff833ebfdd842716cd4c94368ba4b">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 5
  pat_id name                 htn census_tract   svi
  &lt;chr&gt;  &lt;chr&gt;              &lt;dbl&gt;        &lt;dbl&gt; &lt;dbl&gt;
1 001    Arthur Blankenship     0  26161404400  0.12
2 002    Britney Jonas          0  26161405100  0.67
3 003    Sally Davis            1  26161402100  0.43
4 004    Al Jones               0  26161403200  0.07
5 005    Gary Hamill            1  26161405200  0.71
6 006    Ken Bartoletti         0  26161404500  0.23
7 007    Ike Gerhold            0  26161405600  0.27
8 008    Tatiana Grant          0  26161404300  0.21
9 009    Antione Delacroix      1  26161405500  0.62</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="patient-demographics-with-lab-results-your-turn-to-join" class="slide level2">
<h2>Patient Demographics with Lab results (Your Turn to Join)</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>We have some basic Patient Demographics in one table</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-122_01922d8b5fec88ee4f160d5060005e70">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  pat_id name                 age
  &lt;chr&gt;  &lt;chr&gt;              &lt;dbl&gt;
1 001    Arthur Blankenship    67
2 002    Britney Jonas         23
3 003    Sally Davis           63
4 004    Al Jones              44
5 005    Gary Hamill           38
6 006    Ken Bartoletti        33
7 007    Ike Gerhold           52
8 008    Tatiana Grant         42
9 009    Antione Delacroix     27</code></pre>
</div>
</div>
</div><div class="column fragment" style="width:60%;">
<p>and potassium levels and creatinine levels in 2 other tables</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-123_ababc09caddf9ae8019d59e19ad39e7b">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  pat_id     k
  &lt;chr&gt;  &lt;dbl&gt;
1 001      3.2
2 002      3.7
3 003      4.2
4 004      4.4
5 005      4.1
6 006      4  </code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-124_3ee493c6bdd9aefe7521c81caf8df8ac">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  pat_id    cr
  &lt;chr&gt;  &lt;dbl&gt;
1 001      0.2
2 002      0.5
3 003      0.9
4 004      1.5
5 005      0.7
6 006      0.9</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="need-to-load-the-data" class="slide level2">
<h2>Need to Load the Data?</h2>
<p>If you are trying this on your local computer, copy the code below with the clipboard icon to get the data into your computer.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-125_b820d048e0359673c7ac79d593b888d6">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a>demo <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb157-2"><a href="#cb157-2"></a>  <span class="sc">~</span>pat_id, <span class="sc">~</span>name, <span class="sc">~</span>age,</span>
<span id="cb157-3"><a href="#cb157-3"></a>  <span class="st">'001'</span>, <span class="st">"Arthur Blankenship"</span>, <span class="dv">67</span>,</span>
<span id="cb157-4"><a href="#cb157-4"></a>  <span class="st">'002'</span>, <span class="st">"Britney Jonas"</span>, <span class="dv">23</span>,</span>
<span id="cb157-5"><a href="#cb157-5"></a>  <span class="st">'003'</span>, <span class="st">"Sally Davis"</span>, <span class="dv">63</span>,</span>
<span id="cb157-6"><a href="#cb157-6"></a>  <span class="st">'004'</span>, <span class="st">"Al Jones"</span>, <span class="dv">44</span>,</span>
<span id="cb157-7"><a href="#cb157-7"></a>  <span class="st">'005'</span>, <span class="st">"Gary Hamill"</span>, <span class="dv">38</span>,</span>
<span id="cb157-8"><a href="#cb157-8"></a>  <span class="st">'006'</span>, <span class="st">"Ken Bartoletti"</span>, <span class="dv">33</span>,</span>
<span id="cb157-9"><a href="#cb157-9"></a>  <span class="st">'007'</span>, <span class="st">"Ike Gerhold"</span>, <span class="dv">52</span>,</span>
<span id="cb157-10"><a href="#cb157-10"></a>  <span class="st">'008'</span>, <span class="st">"Tatiana Grant"</span>, <span class="dv">42</span>,</span>
<span id="cb157-11"><a href="#cb157-11"></a>  <span class="st">'009'</span>, <span class="st">"Antoine Delacroix"</span>, <span class="dv">27</span>,</span>
<span id="cb157-12"><a href="#cb157-12"></a>)</span>
<span id="cb157-13"><a href="#cb157-13"></a></span>
<span id="cb157-14"><a href="#cb157-14"></a>pot <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb157-15"><a href="#cb157-15"></a>  <span class="sc">~</span>pat_id, <span class="sc">~</span>k,</span>
<span id="cb157-16"><a href="#cb157-16"></a>  <span class="st">'001'</span>, <span class="fl">3.2</span>,</span>
<span id="cb157-17"><a href="#cb157-17"></a>  <span class="st">'002'</span>, <span class="fl">3.7</span>,</span>
<span id="cb157-18"><a href="#cb157-18"></a>  <span class="st">'003'</span>, <span class="fl">4.2</span>,</span>
<span id="cb157-19"><a href="#cb157-19"></a>  <span class="st">'004'</span>, <span class="fl">4.4</span>,</span>
<span id="cb157-20"><a href="#cb157-20"></a>  <span class="st">'005'</span>, <span class="fl">4.1</span>,</span>
<span id="cb157-21"><a href="#cb157-21"></a>  <span class="st">'006'</span>, <span class="fl">4.0</span>,</span>
<span id="cb157-22"><a href="#cb157-22"></a>  <span class="st">'007'</span>, <span class="fl">3.6</span>,</span>
<span id="cb157-23"><a href="#cb157-23"></a>  <span class="st">'008'</span>, <span class="fl">4.2</span>,</span>
<span id="cb157-24"><a href="#cb157-24"></a>  <span class="st">'009'</span>, <span class="fl">4.9</span>,</span>
<span id="cb157-25"><a href="#cb157-25"></a>)</span>
<span id="cb157-26"><a href="#cb157-26"></a></span>
<span id="cb157-27"><a href="#cb157-27"></a>cr <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb157-28"><a href="#cb157-28"></a>  <span class="sc">~</span>pat_id, <span class="sc">~</span>cr,</span>
<span id="cb157-29"><a href="#cb157-29"></a>  <span class="st">'001'</span>, <span class="fl">0.2</span>,</span>
<span id="cb157-30"><a href="#cb157-30"></a>  <span class="st">'002'</span>, <span class="fl">0.5</span>,</span>
<span id="cb157-31"><a href="#cb157-31"></a>  <span class="st">'003'</span>, <span class="fl">0.9</span>,</span>
<span id="cb157-32"><a href="#cb157-32"></a>  <span class="st">'004'</span>, <span class="fl">1.5</span>,</span>
<span id="cb157-33"><a href="#cb157-33"></a>  <span class="st">'005'</span>, <span class="fl">0.7</span>,</span>
<span id="cb157-34"><a href="#cb157-34"></a>  <span class="st">'006'</span>, <span class="fl">0.9</span>,</span>
<span id="cb157-35"><a href="#cb157-35"></a>  <span class="st">'007'</span>, <span class="fl">0.7</span>,</span>
<span id="cb157-36"><a href="#cb157-36"></a>  <span class="st">'008'</span>, <span class="fl">1.0</span>,</span>
<span id="cb157-37"><a href="#cb157-37"></a>  <span class="st">'009'</span>, <span class="fl">1.7</span>,</span>
<span id="cb157-38"><a href="#cb157-38"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-to-join" class="slide level2">
<h2>Your Turn to Join</h2>
<ul>
<li>We want to join the correct labs (9 rows each) to the correct patients.</li>
<li>The unique identifier (called the uniqid or key or recordID) is pat_id.</li>
<li>It only occurs once for each patient/row</li>
<li>It appears in each table we want to join</li>
<li>The pat_id is of the character type in each (a common downfall if one is character, one is numeric, but they <strong>look</strong> the same - but don’t match)</li>
<li>We want to start with demographics, then add datasets that match to the right.</li>
<li>We will use <em>demo</em> as our base dataset on the left hand side (LHS), and first join the potassium (<em>pot</em>) results (RHS)</li>
</ul>
</section>
<section id="what-the-left-join-looks-like" class="slide level2">
<h2>What the Left Join Looks Like</h2>
<ul>
<li><p>This is a <em>mutating</em> join - new variables are created/added to the LHS</p>
<div class="animations">
<img alt="gif here" width="80%" height="80%" src="https://raw.githubusercontent.com/gadenbuie/tidyexplain/main/images/left-join.gif">
</div></li>
</ul>
</section>
<section id="exercise-ph2" class="slide level2">
<h2>Exercise PH2</h2>
<p><br></p>
<p>Complete the Data Cleaning Fundamentals Exercise PH2.</p>
<ul>
<li><p>Do This in <a href="https://posit.cloud/content/5758558">Posit Cloud</a></p></li>
<li><p>If you have the exercise done correctly, click on the Reactions tab in Zoom, and click to put the “thumbs up” emoji 👍 on your screen.</p></li>
<li><p>If you are having trouble, click on the Reactions tab in Zoom, and click to put the “raised hand” emoji ✋ on your screen.</p></li>
</ul>
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/exercises.html#ph2" target="_blank">–&gt; Take me to the exercise &lt;–</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_8b3a1df0" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:3.5em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="your-turn-to-join-1" class="slide level2">
<h2>Your Turn to Join</h2>
<div class="panel-tabset">
<ul id="tabset-24" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-24-1">The Problem</a></li><li><a href="#tabset-24-2">The Code</a></li><li><a href="#tabset-24-3">The Solution</a></li><li><a href="#tabset-24-4">The Result</a></li></ul>
<div class="tab-content">
<div id="tabset-24-1">
<ul>
<li>Joining <em>demo</em> to <em>pot</em> with a left_join</li>
<li>left_join(data_x, data_y, by = “uniqid”)</li>
</ul>
</div>
<div id="tabset-24-2">
<ul>
<li>replace the generic arguments below with the correct ones to join <em>demo</em> to <em>pot</em> and produce <em>new_data</em>.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-127_b727794c19feb98e34c66e56043f2e93">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1"></a>new_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_x, data_y, <span class="at">by =</span> <span class="st">"uniqid"</span>)</span>
<span id="cb158-2"><a href="#cb158-2"></a>new_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-24-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-128_45c769638a1217c2bf159c8553148473">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a>new_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(demo, pot, <span class="at">by =</span> <span class="st">"pat_id"</span>)</span>
<span id="cb159-2"><a href="#cb159-2"></a>new_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-24-4">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-129_41a89e83eb1389f77b83ae1407faae3d">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  pat_id name                 age     k
  &lt;chr&gt;  &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt;
1 001    Arthur Blankenship    67   3.2
2 002    Britney Jonas         23   3.7
3 003    Sally Davis           63   4.2
4 004    Al Jones              44   4.4
5 005    Gary Hamill           38   4.1
6 006    Ken Bartoletti        33   4  
7 007    Ike Gerhold           52   3.6
8 008    Tatiana Grant         42   4.2
9 009    Antoine Delacroix     27   4.9</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="now-add-creatinine-cr-to-new_data" class="slide level2">
<h2>Now add Creatinine (cr) to new_data</h2>
<div class="panel-tabset">
<ul id="tabset-25" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-25-1">The Problem</a></li><li><a href="#tabset-25-2">The Code</a></li><li><a href="#tabset-25-3">The Solution</a></li><li><a href="#tabset-25-4">The Result</a></li></ul>
<div class="tab-content">
<div id="tabset-25-1">
<ul>
<li>Joining new_data and cr with a left_join</li>
<li>left_join(data_x, data_y, by = “uniqid”)</li>
</ul>
</div>
<div id="tabset-25-2">
<ul>
<li>Replace the generic arguments with the correct ones to join new_data and cr and produce new_data2.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-130_fcd147368289eb5a8deb2c901222611d">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a>new_data2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_x, data_y, <span class="at">by =</span> <span class="st">"uniqid"</span>)</span>
<span id="cb161-2"><a href="#cb161-2"></a>new_data2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-25-3">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-131_2e69b92b24e0b2eb4b9d24db674a5e50">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1"></a>new_data2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(new_data, cr, <span class="at">by =</span> <span class="st">"pat_id"</span>)</span>
<span id="cb162-2"><a href="#cb162-2"></a>new_data2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-25-4">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-132_bba8accb1d644c15e3e29fc0841f7c14">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 5
  pat_id name                 age     k    cr
  &lt;chr&gt;  &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 001    Arthur Blankenship    67   3.2   0.2
2 002    Britney Jonas         23   3.7   0.5
3 003    Sally Davis           63   4.2   0.9
4 004    Al Jones              44   4.4   1.5
5 005    Gary Hamill           38   4.1   0.7
6 006    Ken Bartoletti        33   4     0.9
7 007    Ike Gerhold           52   3.6   0.7
8 008    Tatiana Grant         42   4.2   1  
9 009    Antoine Delacroix     27   4.9   1.7</code></pre>
</div>
</div>
<ul>
<li>Al has HTN and DM2</li>
<li>Antoine has early stage FSGS</li>
</ul>
</div>
</div>
</div>
</section>
<section id="workhorse-joins" class="slide level2">
<h2>Workhorse Joins</h2>
<ul>
<li><em>left_join</em> is your workhorse. Start with patient identifiers/uniqid and add data to the right side.</li>
<li>Sometimes you will need to wrangle/process incoming data, then <em>right_join</em> it to the patient demographics</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="animations">
<img alt="gif here" width="100%" height="100%" src="https://raw.githubusercontent.com/gadenbuie/tidyexplain/main/images/left-join.gif">
</div>
</div><div class="column" style="width:50%;">
<div class="animations">
<img alt="gif here" width="100%" height="100%" src="https://raw.githubusercontent.com/gadenbuie/tidyexplain/main/images/right-join.gif">
</div>
</div>
</div>
</section>
<section id="fancy-joins" class="slide level2">
<h2>Fancy Joins</h2>
<ul>
<li>There are multiple kinds of fancy joins (semi_join, anti_join, inner_join, full_join, union, intersect, setdiff) which come in handy once in a while.</li>
<li>The joins below are <em>filtering</em> joins, which filter the rows of the LHS without adding new variables.</li>
<li>The many kinds of joins are all well explained <a href="http://statseducation.com/Introduction-to-R/modules/tidy%20data/joins/#:~:text=semi_join(x%2C%20y)%3A%20Return,This%20is%20a%20filtering%20join.">here</a></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>You want to subset your data (x) by keeping only the ones (y=hospitalized) who were hospitalized.</li>
</ul>
<div class="animations">
<img alt="gif here" width="100%" height="100%" src="https://raw.githubusercontent.com/gadenbuie/tidyexplain/main/images/semi-join.gif">
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>You want to subset your data (x) by keeping only the ones <br>(y = dead) <br>who are NOT dead.</li>
</ul>
<div class="animations">
<img alt="gif here" width="100%" height="100%" src="https://raw.githubusercontent.com/gadenbuie/tidyexplain/main/images/anti-join.gif">
</div>
</div>
</div>
</section>
<section id="data-horror" class="slide level2">
<h2>Data Horror</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Data So Messy, it Constitutes a Data Crime</p>
<p><br> <img data-src="images/messy.png" alt="Messy"></p>
<p><br> What Should You Do?</p>
</div><div class="column" style="width:50%;">
<iframe src="https://giphy.com/embed/jquDWJfPUMCiI" width="480" height="428" frameborder="0" class="giphy-embed" allowfullscreen="">
</iframe>
<p>
<a href="https://giphy.com/gifs/scared-shocked-jquDWJfPUMCiI"> The Horror! The Horror!</a>
</p>
</div>
</div>
</section>
<section id="two-options" class="slide level2">
<h2>Two Options</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li>You can find the person who collected/entered the data</li>
</ol>
<ul>
<li>If you don’t correct this behavior now, this will torture <em><strong>many</strong></em> future data analysts</li>
<li>Educate in this <em>teachable moment</em> about tidy data</li>
<li>Send them to watch Tidy Spreadsheets on YouTube <a href="https://www.youtube.com/watch?v=9f-hpJbjKZo">here</a> to prevent this kind of Data Crime in the future.</li>
<li><strong>Improve</strong> the world, one (now tidy) data collector at a time.</li>
</ul>
</div><div class="column fragment" style="width:50%;">
<ol start="2" type="1">
<li>There is no way to find the person who collected/entered the data</li>
</ol>
<ul>
<li>Pull out some advanced data cleaning packages made for this particular kind of mess
<ul>
<li>{unpivotr}</li>
<li>{tidyxl}</li>
<li>{unheadr}</li>
</ul></li>
<li>Watch the unpivotr/tidyxl 14 min video <a href="https://www.youtube.com/watch?v=ShWxAqnY2YE">here</a></li>
<li>Learn from a free e-book, <a href="https://nacnudus.github.io/spreadsheet-munging-strategies/">Spreadsheet Munging Strategies</a></li>
</ul>
</div>
</div>
</section>
<section id="thank-you" class="slide level2">
<h2>Thank you!</h2>
<p>🙏 <a href="https://forms.gle/kvEirN7sJmavem8q6" target="_blank">Click here to submit workshop feedback</a></p>


<img src="images/R-Med-logo-revised-pride.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023">Data Cleaning</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>